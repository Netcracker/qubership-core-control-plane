{
  "annotations": {
    "list": [
      {
        "builtIn": 1,
        "datasource": "-- Grafana --",
        "enable": true,
        "hide": true,
        "iconColor": "rgba(0, 211, 255, 1)",
        "name": "Annotations & Alerts",
        "type": "dashboard"
      }
    ]
  },
  "description": "Envoy proxy monitoring Dashboard with service level templates.",
  "editable": true,
  "gnetId": 11022,
  "graphTooltip": 0,
  "id": 20,
  "iteration": 1598882522236,
  "links": [],
  "panels": [
    {
      "collapsed": false,
      "datasource": null,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 0
      },
      "id": 30,
      "panels": [],
      "title": "Overview",
      "type": "row"
    },
    {
      "cacheTimeout": null,
      "colorBackground": false,
      "colorPostfix": false,
      "colorPrefix": false,
      "colorValue": true,
      "colors": [
        "#629e51",
        "#e0752d",
        "#65c5db"
      ],
      "datasource": "$datasource",
      "description": "Current State of the Server $pod_name",
      "fieldConfig": {
        "defaults": {
          "custom": {}
        },
        "overrides": []
      },
      "format": "short",
      "gauge": {
        "maxValue": 3,
        "minValue": 0,
        "show": false,
        "thresholdLabels": false,
        "thresholdMarkers": true
      },
      "gridPos": {
        "h": 3,
        "w": 6,
        "x": 0,
        "y": 1
      },
      "id": 32,
      "interval": null,
      "links": [],
      "mappingType": 1,
      "mappingTypes": [
        {
          "name": "value to text",
          "value": 1
        },
        {
          "name": "range to text",
          "value": 2
        }
      ],
      "maxDataPoints": 100,
      "nullPointMode": "connected",
      "nullText": null,
      "postfix": "",
      "postfixFontSize": "50%",
      "prefix": "",
      "prefixFontSize": "50%",
      "rangeMaps": [
        {
          "from": "null",
          "text": "N/A",
          "to": "null"
        }
      ],
      "repeat": "pod_name",
      "repeatDirection": "v",
      "scopedVars": {
        "pod_name": {
          "selected": false,
          "text": "internal-gateway-6-dw22d",
          "value": "internal-gateway-6-dw22d"
        }
      },
      "sparkline": {
        "fillColor": "#1f78c1",
        "full": false,
        "lineColor": "rgb(31, 120, 193)",
        "show": true
      },
      "tableColumn": "",
      "targets": [
        {
          "expr": "envoy_server_state{namespace=\"$namespace\", container=\"$service_name\", pod=\"$pod_name\"}",
          "groupBy": [],
          "instant": true,
          "interval": "",
          "legendFormat": "",
          "orderByTime": "ASC",
          "policy": "default",
          "query": "",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [],
          "tags": []
        }
      ],
      "thresholds": "1, 2",
      "title": "State $pod_name",
      "type": "singlestat",
      "valueFontSize": "80%",
      "valueMaps": [
        {
          "op": "=",
          "text": "LIVE",
          "value": "0"
        },
        {
          "op": "=",
          "text": "DRAINING",
          "value": "1"
        },
        {
          "op": "=",
          "text": "PRE_INITIALIZING",
          "value": "2"
        },
        {
          "op": "=",
          "text": "INITIALIZING",
          "value": "3"
        },
        {
          "op": "=",
          "text": "DOWN",
          "value": "null"
        }
      ],
      "valueName": "current"
    },
    {
      "cacheTimeout": null,
      "colorBackground": false,
      "colorValue": false,
      "colors": [
        "#299c46",
        "rgba(237, 129, 40, 0.89)",
        "#d44a3a"
      ],
      "datasource": "$datasource",
      "decimals": 0,
      "description": "Shows selected service uptime $pod_name",
      "fieldConfig": {
        "defaults": {
          "custom": {}
        },
        "overrides": []
      },
      "format": "s",
      "gauge": {
        "maxValue": 100,
        "minValue": 0,
        "show": false,
        "thresholdLabels": false,
        "thresholdMarkers": true
      },
      "gridPos": {
        "h": 3,
        "w": 6,
        "x": 6,
        "y": 1
      },
      "id": 4,
      "interval": null,
      "links": [],
      "mappingType": 1,
      "mappingTypes": [
        {
          "name": "value to text",
          "value": 1
        },
        {
          "name": "range to text",
          "value": 2
        }
      ],
      "maxDataPoints": 100,
      "nullPointMode": "connected",
      "nullText": null,
      "pluginVersion": "6.7.1",
      "postfix": "",
      "postfixFontSize": "50%",
      "prefix": "",
      "prefixFontSize": "50%",
      "rangeMaps": [
        {
          "from": "null",
          "text": "N/A",
          "to": "null"
        }
      ],
      "repeat": "pod_name",
      "repeatDirection": "v",
      "scopedVars": {
        "pod_name": {
          "selected": false,
          "text": "internal-gateway-6-dw22d",
          "value": "internal-gateway-6-dw22d"
        }
      },
      "sparkline": {
        "fillColor": "rgba(31, 118, 189, 0.18)",
        "full": false,
        "lineColor": "rgb(31, 120, 193)",
        "show": false,
        "ymax": null,
        "ymin": null
      },
      "tableColumn": "",
      "targets": [
        {
          "expr": "envoy_server_uptime{namespace=\"$namespace\", container=\"$service_name\", pod=\"$pod_name\"}",
          "format": "time_series",
          "groupBy": [],
          "hide": false,
          "instant": true,
          "interval": "",
          "intervalFactor": 1,
          "legendFormat": "",
          "orderByTime": "ASC",
          "policy": "default",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [],
          "tags": []
        }
      ],
      "thresholds": "",
      "title": "Uptime: $pod_name",
      "type": "singlestat",
      "valueFontSize": "80%",
      "valueMaps": [
        {
          "op": "=",
          "text": "N/A",
          "value": "null"
        }
      ],
      "valueName": "current"
    },
    {
      "cacheTimeout": null,
      "colorBackground": false,
      "colorPostfix": false,
      "colorPrefix": false,
      "colorValue": false,
      "colors": [
        "#629e51",
        "#e0752d",
        "#65c5db"
      ],
      "datasource": "$datasource",
      "description": "Number of worker threads $pod_name",
      "fieldConfig": {
        "defaults": {
          "custom": {}
        },
        "overrides": []
      },
      "format": "none",
      "gauge": {
        "maxValue": 3,
        "minValue": 0,
        "show": false,
        "thresholdLabels": false,
        "thresholdMarkers": true
      },
      "gridPos": {
        "h": 3,
        "w": 6,
        "x": 12,
        "y": 1
      },
      "id": 75,
      "interval": null,
      "links": [],
      "mappingType": 2,
      "mappingTypes": [
        {
          "name": "value to text",
          "value": 1
        },
        {
          "name": "range to text",
          "value": 2
        }
      ],
      "maxDataPoints": 100,
      "nullPointMode": "connected",
      "nullText": null,
      "postfix": "",
      "postfixFontSize": "50%",
      "prefix": "",
      "prefixFontSize": "50%",
      "rangeMaps": [
        {
          "from": "null",
          "text": "0",
          "to": "null"
        }
      ],
      "repeat": "pod_name",
      "repeatDirection": "v",
      "scopedVars": {
        "pod_name": {
          "selected": false,
          "text": "internal-gateway-6-dw22d",
          "value": "internal-gateway-6-dw22d"
        }
      },
      "sparkline": {
        "fillColor": "#1f78c1",
        "full": false,
        "lineColor": "rgb(31, 120, 193)",
        "show": true
      },
      "tableColumn": "",
      "targets": [
        {
          "expr": "envoy_server_concurrency{container=\"$service_name\", namespace=\"$namespace\", pod=\"$pod_name\"}",
          "groupBy": [],
          "interval": "",
          "legendFormat": "",
          "orderByTime": "ASC",
          "policy": "default",
          "query": "",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [],
          "tags": []
        }
      ],
      "thresholds": "",
      "title": "Number of worker threads $pod_name",
      "type": "singlestat",
      "valueFontSize": "80%",
      "valueMaps": [
        {
          "op": "=",
          "text": "LIVE",
          "value": "0"
        },
        {
          "op": "=",
          "text": "DRAINING",
          "value": "1"
        },
        {
          "op": "=",
          "text": "PRE_INITIALIZING",
          "value": "2"
        },
        {
          "op": "=",
          "text": "INITIALIZING",
          "value": "3"
        }
      ],
      "valueName": "current"
    },
    {
      "cacheTimeout": null,
      "colorBackground": false,
      "colorPostfix": false,
      "colorPrefix": false,
      "colorValue": false,
      "colors": [
        "#629e51",
        "#e0752d",
        "#65c5db"
      ],
      "datasource": "$datasource",
      "description": "Total connections of both new and old Envoy processes $pod_name",
      "fieldConfig": {
        "defaults": {
          "custom": {}
        },
        "overrides": []
      },
      "format": "none",
      "gauge": {
        "maxValue": 3,
        "minValue": 0,
        "show": false,
        "thresholdLabels": false,
        "thresholdMarkers": true
      },
      "gridPos": {
        "h": 3,
        "w": 6,
        "x": 18,
        "y": 1
      },
      "id": 145,
      "interval": null,
      "links": [],
      "mappingType": 2,
      "mappingTypes": [
        {
          "name": "value to text",
          "value": 1
        },
        {
          "name": "range to text",
          "value": 2
        }
      ],
      "maxDataPoints": 100,
      "nullPointMode": "connected",
      "nullText": null,
      "postfix": "",
      "postfixFontSize": "50%",
      "prefix": "",
      "prefixFontSize": "50%",
      "rangeMaps": [
        {
          "from": "null",
          "text": "0",
          "to": "null"
        }
      ],
      "repeat": "pod_name",
      "repeatDirection": "v",
      "scopedVars": {
        "pod_name": {
          "selected": false,
          "text": "internal-gateway-6-dw22d",
          "value": "internal-gateway-6-dw22d"
        }
      },
      "sparkline": {
        "fillColor": "#1f78c1",
        "full": false,
        "lineColor": "rgb(31, 120, 193)",
        "show": true
      },
      "tableColumn": "",
      "targets": [
        {
          "expr": "envoy_server_total_connections{container=\"$service_name\", namespace=\"$namespace\", pod=\"$pod_name\"}",
          "groupBy": [],
          "interval": "",
          "legendFormat": "",
          "orderByTime": "ASC",
          "policy": "default",
          "query": "",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [],
          "tags": []
        }
      ],
      "thresholds": "",
      "title": "Total connections of Envoy process $pod_name",
      "type": "singlestat",
      "valueFontSize": "80%",
      "valueMaps": [
        {
          "op": "=",
          "text": "LIVE",
          "value": "0"
        },
        {
          "op": "=",
          "text": "DRAINING",
          "value": "1"
        },
        {
          "op": "=",
          "text": "PRE_INITIALIZING",
          "value": "2"
        },
        {
          "op": "=",
          "text": "INITIALIZING",
          "value": "3"
        }
      ],
      "valueName": "current"
    },
    {
      "cacheTimeout": null,
      "colorBackground": false,
      "colorPostfix": false,
      "colorPrefix": false,
      "colorValue": false,
      "colors": [
        "#629e51",
        "#e0752d",
        "#65c5db"
      ],
      "datasource": "$datasource",
      "description": "Number of currently active (warmed) clusters $pod_name",
      "fieldConfig": {
        "defaults": {
          "custom": {}
        },
        "overrides": []
      },
      "format": "none",
      "gauge": {
        "maxValue": 3,
        "minValue": 0,
        "show": false,
        "thresholdLabels": false,
        "thresholdMarkers": true
      },
      "gridPos": {
        "h": 3,
        "w": 6,
        "x": 0,
        "y": 4
      },
      "id": 72,
      "interval": null,
      "links": [],
      "mappingType": 2,
      "mappingTypes": [
        {
          "name": "value to text",
          "value": 1
        },
        {
          "name": "range to text",
          "value": 2
        }
      ],
      "maxDataPoints": 100,
      "nullPointMode": "connected",
      "nullText": null,
      "postfix": "",
      "postfixFontSize": "50%",
      "prefix": "",
      "prefixFontSize": "50%",
      "rangeMaps": [
        {
          "from": "null",
          "text": "0",
          "to": "null"
        }
      ],
      "repeat": "pod_name",
      "repeatDirection": "v",
      "scopedVars": {
        "pod_name": {
          "selected": false,
          "text": "internal-gateway-6-dw22d",
          "value": "internal-gateway-6-dw22d"
        }
      },
      "sparkline": {
        "fillColor": "#1f78c1",
        "full": false,
        "lineColor": "rgb(31, 120, 193)",
        "show": true
      },
      "tableColumn": "",
      "targets": [
        {
          "expr": "envoy_cluster_manager_active_clusters{container=\"$service_name\", namespace=\"$namespace\", pod=\"$pod_name\"}",
          "groupBy": [],
          "instant": false,
          "interval": "",
          "legendFormat": "",
          "orderByTime": "ASC",
          "policy": "default",
          "query": "",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [],
          "tags": []
        }
      ],
      "thresholds": "1, 2",
      "title": "Active (warmed) clusters $pod_name",
      "type": "singlestat",
      "valueFontSize": "80%",
      "valueMaps": [
        {
          "op": "=",
          "text": "LIVE",
          "value": "0"
        },
        {
          "op": "=",
          "text": "DRAINING",
          "value": "1"
        },
        {
          "op": "=",
          "text": "PRE_INITIALIZING",
          "value": "2"
        },
        {
          "op": "=",
          "text": "INITIALIZING",
          "value": "3"
        }
      ],
      "valueName": "current"
    },
    {
      "cacheTimeout": null,
      "colorBackground": false,
      "colorPostfix": false,
      "colorPrefix": false,
      "colorValue": false,
      "colors": [
        "#629e51",
        "#e0752d",
        "#65c5db"
      ],
      "datasource": "$datasource",
      "description": "Current number of degraded clusters $pod_name",
      "fieldConfig": {
        "defaults": {
          "custom": {}
        },
        "overrides": []
      },
      "format": "none",
      "gauge": {
        "maxValue": 3,
        "minValue": 0,
        "show": false,
        "thresholdLabels": false,
        "thresholdMarkers": true
      },
      "gridPos": {
        "h": 3,
        "w": 6,
        "x": 6,
        "y": 4
      },
      "id": 146,
      "interval": "",
      "links": [],
      "mappingType": 2,
      "mappingTypes": [
        {
          "name": "value to text",
          "value": 1
        },
        {
          "name": "range to text",
          "value": 2
        }
      ],
      "maxDataPoints": 100,
      "nullPointMode": "connected",
      "nullText": null,
      "postfix": "",
      "postfixFontSize": "50%",
      "prefix": "",
      "prefixFontSize": "50%",
      "rangeMaps": [
        {
          "from": "null",
          "text": "0",
          "to": "null"
        },
        {
          "from": "",
          "text": "",
          "to": ""
        }
      ],
      "repeat": "pod_name",
      "repeatDirection": "v",
      "scopedVars": {
        "pod_name": {
          "selected": false,
          "text": "internal-gateway-6-dw22d",
          "value": "internal-gateway-6-dw22d"
        }
      },
      "sparkline": {
        "fillColor": "#1f78c1",
        "full": false,
        "lineColor": "rgb(31, 120, 193)",
        "show": true
      },
      "tableColumn": "",
      "targets": [
        {
          "expr": "sum(envoy_cluster_membership_degraded{container=\"$service_name\", namespace=\"$namespace\", pod=\"$pod_name\"})",
          "groupBy": [],
          "hide": false,
          "interval": "",
          "legendFormat": "",
          "orderByTime": "ASC",
          "policy": "default",
          "query": "",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [],
          "tags": []
        }
      ],
      "thresholds": "",
      "title": "Current number of degraded clusters $pod_name",
      "type": "singlestat",
      "valueFontSize": "80%",
      "valueMaps": [],
      "valueName": "current"
    },
    {
      "cacheTimeout": null,
      "colorBackground": false,
      "colorPostfix": false,
      "colorPrefix": false,
      "colorValue": false,
      "colors": [
        "#629e51",
        "#e0752d",
        "#65c5db"
      ],
      "datasource": "$datasource",
      "description": "Number of currently warming (not active) clusters $pod_name",
      "fieldConfig": {
        "defaults": {
          "custom": {}
        },
        "overrides": []
      },
      "format": "none",
      "gauge": {
        "maxValue": 3,
        "minValue": 0,
        "show": false,
        "thresholdLabels": false,
        "thresholdMarkers": true
      },
      "gridPos": {
        "h": 3,
        "w": 6,
        "x": 12,
        "y": 4
      },
      "id": 70,
      "interval": "",
      "links": [],
      "mappingType": 2,
      "mappingTypes": [
        {
          "name": "value to text",
          "value": 1
        },
        {
          "name": "range to text",
          "value": 2
        }
      ],
      "maxDataPoints": 100,
      "nullPointMode": "connected",
      "nullText": null,
      "postfix": "",
      "postfixFontSize": "50%",
      "prefix": "",
      "prefixFontSize": "50%",
      "rangeMaps": [
        {
          "from": "null",
          "text": "0",
          "to": "null"
        },
        {
          "from": "",
          "text": "",
          "to": ""
        }
      ],
      "repeat": "pod_name",
      "repeatDirection": "v",
      "scopedVars": {
        "pod_name": {
          "selected": false,
          "text": "internal-gateway-6-dw22d",
          "value": "internal-gateway-6-dw22d"
        }
      },
      "sparkline": {
        "fillColor": "#1f78c1",
        "full": false,
        "lineColor": "rgb(31, 120, 193)",
        "show": true
      },
      "tableColumn": "",
      "targets": [
        {
          "expr": "envoy_cluster_manager_warming_clusters{container=\"$service_name\", namespace=\"$namespace\", pod=\"$pod_name\"}",
          "groupBy": [],
          "hide": false,
          "interval": "",
          "legendFormat": "",
          "orderByTime": "ASC",
          "policy": "default",
          "query": "",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [],
          "tags": []
        }
      ],
      "thresholds": "",
      "title": "Warming (not active) clusters $pod_name",
      "type": "singlestat",
      "valueFontSize": "80%",
      "valueMaps": [],
      "valueName": "current"
    },
    {
      "cacheTimeout": null,
      "colorBackground": false,
      "colorPostfix": false,
      "colorPrefix": false,
      "colorValue": true,
      "colors": [
        "#629e51",
        "#e0752d",
        "#65c5db"
      ],
      "datasource": "$datasource",
      "description": "Days until first cert expiring $pod_name",
      "fieldConfig": {
        "defaults": {
          "custom": {}
        },
        "overrides": []
      },
      "format": "d",
      "gauge": {
        "maxValue": 3,
        "minValue": 0,
        "show": false,
        "thresholdLabels": false,
        "thresholdMarkers": true
      },
      "gridPos": {
        "h": 3,
        "w": 6,
        "x": 18,
        "y": 4
      },
      "id": 126,
      "interval": null,
      "links": [],
      "mappingType": 1,
      "mappingTypes": [
        {
          "name": "value to text",
          "value": 1
        },
        {
          "name": "range to text",
          "value": 2
        }
      ],
      "maxDataPoints": 100,
      "nullPointMode": "connected",
      "nullText": null,
      "postfix": "",
      "postfixFontSize": "50%",
      "prefix": "",
      "prefixFontSize": "50%",
      "rangeMaps": [
        {
          "from": "null",
          "text": "0",
          "to": "null"
        }
      ],
      "repeat": "pod_name",
      "repeatDirection": "v",
      "scopedVars": {
        "pod_name": {
          "selected": false,
          "text": "internal-gateway-6-dw22d",
          "value": "internal-gateway-6-dw22d"
        }
      },
      "sparkline": {
        "fillColor": "#1f78c1",
        "full": false,
        "lineColor": "rgb(31, 120, 193)",
        "show": false
      },
      "tableColumn": "",
      "targets": [
        {
          "expr": "envoy_server_days_until_first_cert_expiring{container=\"$service_name\", namespace=\"$namespace\", pod=\"$pod_name\"}",
          "groupBy": [],
          "instant": true,
          "interval": "",
          "legendFormat": "",
          "orderByTime": "ASC",
          "policy": "default",
          "query": "",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [],
          "tags": []
        }
      ],
      "thresholds": "1, 2",
      "title": "Days until first cert expiring $pod_name",
      "type": "singlestat",
      "valueFontSize": "80%",
      "valueMaps": [
        {
          "op": "=",
          "text": "N/A",
          "value": "2147483647"
        }
      ],
      "valueName": "current"
    },
    {
      "aliasColors": {},
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": "$datasource",
      "description": "Summary of CPU usage by pod $pod_name.\n\nThe red line shows limit of CPUs usage for the process.\n\nThe values is indicated in Millicores. It is a special Kubernates metric means CPU core split into 1000 units.",
      "editable": true,
      "error": false,
      "fieldConfig": {
        "defaults": {
          "custom": {},
          "links": []
        },
        "overrides": []
      },
      "fill": 1,
      "fillGradient": 0,
      "grid": {
        "leftLogBase": 1,
        "leftMax": null,
        "leftMin": null,
        "rightLogBase": 1,
        "rightMax": null,
        "rightMin": null,
        "threshold1": null,
        "threshold1Color": "rgba(216, 200, 27, 0.27)",
        "threshold2": null,
        "threshold2Color": "rgba(234, 112, 112, 0.22)"
      },
      "gridPos": {
        "h": 5,
        "w": 12,
        "x": 0,
        "y": 7
      },
      "hiddenSeries": false,
      "id": 148,
      "interval": "$inter",
      "leftYAxisLabel": "Millicores",
      "legend": {
        "alignAsTable": true,
        "avg": false,
        "current": true,
        "hideEmpty": false,
        "hideZero": false,
        "max": false,
        "min": false,
        "rightSide": true,
        "show": true,
        "total": false,
        "values": true
      },
      "lines": true,
      "linewidth": 2,
      "links": [],
      "minSpan": 12,
      "nullPointMode": "connectedo",
      "percentage": false,
      "pluginVersion": "7.1.0",
      "pointradius": 5,
      "points": false,
      "renderer": "flot",
      "repeat": "pod_name",
      "repeatDirection": "v",
      "scopedVars": {
        "pod_name": {
          "selected": false,
          "text": "internal-gateway-6-dw22d",
          "value": "internal-gateway-6-dw22d"
        }
      },
      "seriesOverrides": [
        {
          "alias": "/^limit/",
          "color": "#890F02",
          "fill": 0,
          "linewidth": 2
        },
        {
          "alias": "/^request/",
          "color": "#EF843C",
          "fill": 0
        },
        {
          "alias": "/^usage/",
          "color": "#7EB26D",
          "fill": 2
        }
      ],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        {
          "alias": "usage",
          "expr": "rate(container_cpu_usage_seconds_total{container=\"$service_name\", pod=\"$pod_name\", namespace=\"$namespace\"}[$inter])",
          "groupBy": [],
          "hide": false,
          "instant": false,
          "interval": "",
          "legendFormat": "usage",
          "measurement": "cpu/usage_rate",
          "orderByTime": "ASC",
          "policy": "default",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [],
          "tags": [
            {
              "key": "type",
              "operator": "=",
              "value": "pod_container"
            },
            {
              "condition": "AND",
              "key": "namespace_name",
              "operator": "=~",
              "value": "/$namespace$/"
            },
            {
              "condition": "AND",
              "key": "pod_name",
              "operator": "=~",
              "value": "/$podname$/"
            }
          ]
        },
        {
          "alias": "limit",
          "expr": "kube_pod_container_resource_limits_cpu_cores{container=\"$service_name\", exported_pod=\"$pod_name\", exported_namespace=\"$namespace\"}",
          "groupBy": [],
          "hide": false,
          "interval": "",
          "legendFormat": "limit",
          "measurement": "cpu/usage_rate",
          "orderByTime": "ASC",
          "policy": "default",
          "rawQuery": true,
          "refId": "D",
          "resultFormat": "time_series",
          "select": [],
          "tags": [
            {
              "key": "type",
              "operator": "=",
              "value": "pod_container"
            },
            {
              "condition": "AND",
              "key": "namespace_name",
              "operator": "=~",
              "value": "/$namespace$/"
            },
            {
              "condition": "AND",
              "key": "pod_name",
              "operator": "=~",
              "value": "/$podname$/"
            }
          ]
        },
        {
          "alias": "request",
          "expr": "kube_pod_container_resource_requests_cpu_cores{container=\"$service_name\", exported_pod=\"$pod_name\", exported_namespace=\"$namespace\"}",
          "groupBy": [],
          "hide": false,
          "interval": "",
          "legendFormat": "request",
          "measurement": "cpu/usage_rate",
          "orderByTime": "ASC",
          "policy": "default",
          "rawQuery": true,
          "refId": "E",
          "resultFormat": "time_series",
          "select": [],
          "tags": [
            {
              "key": "type",
              "operator": "=",
              "value": "pod_container"
            },
            {
              "condition": "AND",
              "key": "namespace_name",
              "operator": "=~",
              "value": "/$namespace$/"
            },
            {
              "condition": "AND",
              "key": "pod_name",
              "operator": "=~",
              "value": "/$podname$/"
            }
          ]
        }
      ],
      "thresholds": [],
      "timeFrom": null,
      "timeRegions": [],
      "timeShift": null,
      "title": "CPU Usage: $pod_name",
      "tooltip": {
        "shared": true,
        "sort": 0,
        "value_type": "cumulative"
      },
      "type": "graph",
      "x-axis": true,
      "xaxis": {
        "buckets": null,
        "mode": "time",
        "name": null,
        "show": true,
        "values": []
      },
      "y-axis": true,
      "y_formats": [
        "short",
        "short"
      ],
      "yaxes": [
        {
          "format": "short",
          "label": "Millicores",
          "logBase": 1,
          "max": null,
          "min": "0",
          "show": true
        },
        {
          "format": "short",
          "label": null,
          "logBase": 1,
          "max": null,
          "min": null,
          "show": true
        }
      ],
      "yaxis": {
        "align": false,
        "alignLevel": null
      }
    },
    {
      "aliasColors": {},
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": "$datasource",
      "description": "The amount of used memory",
      "fieldConfig": {
        "defaults": {
          "custom": {},
          "links": []
        },
        "overrides": []
      },
      "fill": 5,
      "fillGradient": 0,
      "gridPos": {
        "h": 5,
        "w": 12,
        "x": 12,
        "y": 7
      },
      "hiddenSeries": false,
      "id": 147,
      "interval": "$inter",
      "legend": {
        "alignAsTable": true,
        "avg": false,
        "current": true,
        "hideEmpty": false,
        "hideZero": false,
        "max": true,
        "min": false,
        "rightSide": true,
        "show": true,
        "total": false,
        "values": true
      },
      "lines": true,
      "linewidth": 1,
      "links": [],
      "minSpan": 3,
      "nullPointMode": "connected",
      "percentage": false,
      "pluginVersion": "7.1.0",
      "pointradius": 5,
      "points": false,
      "renderer": "flot",
      "repeat": "pod_name",
      "repeatDirection": "v",
      "scopedVars": {
        "pod_name": {
          "selected": false,
          "text": "internal-gateway-6-dw22d",
          "value": "internal-gateway-6-dw22d"
        }
      },
      "seriesOverrides": [
        {
          "alias": "Limits",
          "color": "#bf1b00",
          "fill": 0,
          "linewidth": 2,
          "stack": false
        },
        {
          "alias": "Usage",
          "color": "#7eb26d",
          "fill": 3,
          "stack": false
        }
      ],
      "spaceLength": 10,
      "stack": true,
      "steppedLine": false,
      "targets": [
        {
          "alias": "Heap",
          "expr": "kube_pod_container_resource_limits_memory_bytes{exported_namespace=\"$namespace\", container=\"$service_name\", exported_pod=\"$pod_name\"}",
          "groupBy": [],
          "hide": false,
          "interval": "",
          "legendFormat": "Limits",
          "orderByTime": "ASC",
          "policy": "default",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [],
          "tags": []
        },
        {
          "alias": "Non Heap : Code Cache",
          "expr": "container_memory_max_usage_bytes{namespace=\"$namespace\", container=\"$service_name\", pod=\"$pod_name\"}",
          "groupBy": [],
          "hide": false,
          "interval": "",
          "legendFormat": "Usage",
          "orderByTime": "ASC",
          "policy": "default",
          "rawQuery": true,
          "refId": "B",
          "resultFormat": "time_series",
          "select": [],
          "tags": []
        },
        {
          "alias": "Non Heap : Code Cache",
          "expr": "envoy_server_memory_heap_size{container=\"$service_name\", namespace=\"$namespace\", pod=\"$pod_name\"}",
          "groupBy": [],
          "hide": false,
          "interval": "",
          "legendFormat": "Heap",
          "orderByTime": "ASC",
          "policy": "default",
          "rawQuery": true,
          "refId": "C",
          "resultFormat": "time_series",
          "select": [],
          "tags": []
        },
        {
          "alias": "Non Heap : Code Cache",
          "expr": "go_memstats_mcache_sys_bytes{namespace=\"$namespace\", container=\"$service_name\", pod=\"$pod_name\"}",
          "groupBy": [],
          "hide": false,
          "interval": "",
          "legendFormat": "Non Heap",
          "orderByTime": "ASC",
          "policy": "default",
          "rawQuery": true,
          "refId": "D",
          "resultFormat": "time_series",
          "select": [],
          "tags": []
        }
      ],
      "thresholds": [],
      "timeFrom": null,
      "timeRegions": [],
      "timeShift": null,
      "title": "Commited Memory $pod_name",
      "tooltip": {
        "shared": true,
        "sort": 0,
        "value_type": "individual"
      },
      "type": "graph",
      "xaxis": {
        "buckets": null,
        "mode": "time",
        "name": null,
        "show": true,
        "values": []
      },
      "yaxes": [
        {
          "format": "decbytes",
          "label": null,
          "logBase": 1,
          "max": null,
          "min": "0",
          "show": true
        },
        {
          "format": "short",
          "label": null,
          "logBase": 1,
          "max": null,
          "min": null,
          "show": true
        }
      ],
      "yaxis": {
        "align": false,
        "alignLevel": null
      }
    },
    {
      "aliasColors": {
        "admin": "#0a437c",
        "ingress_http": "#64b0c8"
      },
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": "$datasource",
      "decimals": 1,
      "description": "Total active connections $pod_name",
      "fieldConfig": {
        "defaults": {
          "custom": {},
          "links": []
        },
        "overrides": []
      },
      "fill": 1,
      "fillGradient": 0,
      "gridPos": {
        "h": 7,
        "w": 12,
        "x": 0,
        "y": 12
      },
      "hiddenSeries": false,
      "id": 63,
      "interval": "$inter",
      "legend": {
        "alignAsTable": true,
        "avg": false,
        "current": true,
        "hideZero": true,
        "max": true,
        "min": false,
        "rightSide": false,
        "show": true,
        "sort": "current",
        "sortDesc": true,
        "total": false,
        "values": true
      },
      "lines": true,
      "linewidth": 1,
      "links": [],
      "nullPointMode": "connected",
      "percentage": false,
      "pluginVersion": "7.1.0",
      "pointradius": 5,
      "points": false,
      "renderer": "flot",
      "repeat": "pod_name",
      "repeatDirection": "v",
      "scopedVars": {
        "pod_name": {
          "selected": false,
          "text": "internal-gateway-6-dw22d",
          "value": "internal-gateway-6-dw22d"
        }
      },
      "seriesOverrides": [],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": true,
      "targets": [
        {
          "expr": "sum(increase(envoy_cluster_upstream_cx_total{container=\"$service_name\", namespace=\"$namespace\", pod=\"$pod_name\"}[$inter]))",
          "interval": "",
          "legendFormat": "Upstream connections",
          "refId": "A"
        },
        {
          "alias": "$tag_envoy_http_conn_manager_prefix",
          "expr": "sum(increase(envoy_http_downstream_cx_total{container=\"$service_name\", namespace=\"$namespace\", pod=\"$pod_name\"}[$inter]))",
          "format": "time_series",
          "groupBy": [],
          "hide": false,
          "instant": false,
          "interval": "",
          "intervalFactor": 1,
          "legendFormat": "Downstream connections",
          "orderByTime": "ASC",
          "policy": "default",
          "query": "",
          "rawQuery": true,
          "refId": "B",
          "resultFormat": "time_series",
          "select": [],
          "tags": []
        }
      ],
      "thresholds": [],
      "timeFrom": null,
      "timeRegions": [],
      "timeShift": null,
      "title": "Total Connections $pod_name",
      "tooltip": {
        "shared": true,
        "sort": 0,
        "value_type": "individual"
      },
      "type": "graph",
      "xaxis": {
        "buckets": null,
        "mode": "time",
        "name": null,
        "show": true,
        "values": []
      },
      "yaxes": [
        {
          "decimals": 0,
          "format": "short",
          "label": "Connections",
          "logBase": 1,
          "max": null,
          "min": null,
          "show": true
        },
        {
          "decimals": null,
          "format": "short",
          "label": null,
          "logBase": 1,
          "max": null,
          "min": null,
          "show": true
        }
      ],
      "yaxis": {
        "align": false,
        "alignLevel": null
      }
    },
    {
      "aliasColors": {
        "Update failures": "#bf1b00",
        "Update successes": "#629e51"
      },
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": "$datasource",
      "description": "Total amount of cluster updates per second $pod_name",
      "fieldConfig": {
        "defaults": {
          "custom": {},
          "links": []
        },
        "overrides": []
      },
      "fill": 2,
      "fillGradient": 0,
      "gridPos": {
        "h": 7,
        "w": 12,
        "x": 12,
        "y": 12
      },
      "hiddenSeries": false,
      "id": 38,
      "interval": "$inter",
      "legend": {
        "alignAsTable": true,
        "avg": false,
        "current": true,
        "max": true,
        "min": false,
        "show": true,
        "total": false,
        "values": true
      },
      "lines": true,
      "linewidth": 2,
      "links": [],
      "nullPointMode": "connected",
      "percentage": false,
      "pluginVersion": "7.1.0",
      "pointradius": 5,
      "points": false,
      "renderer": "flot",
      "repeat": "pod_name",
      "repeatDirection": "v",
      "scopedVars": {
        "pod_name": {
          "selected": false,
          "text": "internal-gateway-6-dw22d",
          "value": "internal-gateway-6-dw22d"
        }
      },
      "seriesOverrides": [],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        {
          "alias": "Update successes",
          "expr": "avg(rate(envoy_cluster_update_success{container=\"$service_name\", namespace=\"$namespace\", pod=\"$pod_name\"}[$inter]))",
          "groupBy": [],
          "hide": false,
          "interval": "",
          "legendFormat": "Update successes",
          "orderByTime": "ASC",
          "policy": "default",
          "query": "",
          "rawQuery": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [],
          "tags": []
        },
        {
          "alias": "Update failures",
          "expr": "avg(rate(envoy_cluster_update_failure{container=\"$service_name\", namespace=\"$namespace\", pod=\"$pod_name\"}[$inter]))",
          "groupBy": [],
          "hide": false,
          "interval": "",
          "legendFormat": "Update failures",
          "orderByTime": "ASC",
          "policy": "default",
          "query": "",
          "rawQuery": true,
          "refId": "B",
          "resultFormat": "time_series",
          "select": [],
          "tags": []
        }
      ],
      "thresholds": [],
      "timeFrom": null,
      "timeRegions": [],
      "timeShift": null,
      "title": "Envoy Configuration Update Status (xDS) $pod_name",
      "tooltip": {
        "shared": true,
        "sort": 2,
        "value_type": "individual"
      },
      "type": "graph",
      "xaxis": {
        "buckets": null,
        "mode": "time",
        "name": null,
        "show": true,
        "values": []
      },
      "yaxes": [
        {
          "format": "short",
          "label": "Operations / sec",
          "logBase": 1,
          "max": null,
          "min": null,
          "show": true
        },
        {
          "format": "short",
          "label": null,
          "logBase": 1,
          "max": null,
          "min": null,
          "show": true
        }
      ],
      "yaxis": {
        "align": false,
        "alignLevel": null
      }
    },
    {
      "collapsed": true,
      "datasource": null,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 19
      },
      "id": 26,
      "panels": [
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$datasource",
          "description": "Upstream requests per second $pod_name",
          "fieldConfig": {
            "defaults": {
              "custom": {},
              "links": []
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 7,
            "w": 24,
            "x": 0,
            "y": 20
          },
          "hiddenSeries": false,
          "id": 78,
          "interval": "$inter",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxPerRow": 3,
          "nullPointMode": "connected",
          "percentage": false,
          "pluginVersion": "7.1.0",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": "pod_name",
          "repeatDirection": "h",
          "scopedVars": {
            "pod_name": {
              "selected": false,
              "text": "internal-gateway-6-dw22d",
              "value": "internal-gateway-6-dw22d"
            }
          },
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": true,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_envoy_cluster_name",
              "expr": "rate(envoy_cluster_upstream_rq_total{container=\"$service_name\", namespace=\"$namespace\", pod=\"$pod_name\"}[$inter]) OR on() vector(0)",
              "groupBy": [],
              "hide": false,
              "interval": "",
              "legendFormat": "{{envoy_cluster_name}}",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Upstream requests per second $pod_name",
          "tooltip": {
            "shared": true,
            "sort": 2,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "none",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": false
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$datasource",
          "description": "Upstream requests that were failed due to a connection pool connection failure $pod_name",
          "fieldConfig": {
            "defaults": {
              "custom": {},
              "links": []
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 7,
            "w": 24,
            "x": 0,
            "y": 27
          },
          "hiddenSeries": false,
          "id": 81,
          "interval": "$inter",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxPerRow": 3,
          "nullPointMode": "connected",
          "percentage": false,
          "pluginVersion": "7.1.0",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": "pod_name",
          "repeatDirection": "h",
          "scopedVars": {
            "pod_name": {
              "selected": false,
              "text": "internal-gateway-6-dw22d",
              "value": "internal-gateway-6-dw22d"
            }
          },
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": true,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_envoy_cluster_name",
              "expr": "increase(envoy_cluster_upstream_rq_pending_failure_eject{container=\"$service_name\", namespace=\"$namespace\", pod=\"$pod_name\"}[$inter]) OR on() vector(0)",
              "groupBy": [],
              "interval": "",
              "legendFormat": "{{envoy_cluster_name}}",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "",
              "rawQuery": true,
              "refId": "B",
              "resultFormat": "time_series",
              "select": [],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Upstream requests that were failed due to a connection pool connection failure $pod_name",
          "tooltip": {
            "shared": true,
            "sort": 2,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$datasource",
          "description": "Upstream request retries $pod_name",
          "fieldConfig": {
            "defaults": {
              "custom": {},
              "links": []
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 7,
            "w": 24,
            "x": 0,
            "y": 34
          },
          "hiddenSeries": false,
          "id": 85,
          "interval": "$inter",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxPerRow": 3,
          "nullPointMode": "connected",
          "percentage": false,
          "pluginVersion": "7.1.0",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": "pod_name",
          "repeatDirection": "h",
          "scopedVars": {
            "pod_name": {
              "selected": false,
              "text": "internal-gateway-6-dw22d",
              "value": "internal-gateway-6-dw22d"
            }
          },
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": true,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_envoy_cluster_name",
              "expr": "increase(envoy_cluster_upstream_rq_retry{container=\"$service_name\", namespace=\"$namespace\", pod=\"$pod_name\"}[$inter]) OR on() vector(0)",
              "groupBy": [],
              "interval": "",
              "legendFormat": "{{envoy_cluster_name}}",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "",
              "rawQuery": true,
              "refId": "B",
              "resultFormat": "time_series",
              "select": [],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Upstream request retries $pod_name",
          "tooltip": {
            "shared": true,
            "sort": 2,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": true,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$datasource",
          "description": "Upstream requests in pending $pod_name",
          "fieldConfig": {
            "defaults": {
              "custom": {},
              "links": []
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 7,
            "w": 24,
            "x": 0,
            "y": 41
          },
          "hiddenSeries": false,
          "id": 80,
          "interval": "$inter",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": false,
          "linewidth": 1,
          "links": [],
          "maxPerRow": 3,
          "nullPointMode": "connected",
          "percentage": false,
          "pluginVersion": "7.1.0",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": "pod_name",
          "repeatDirection": "h",
          "scopedVars": {
            "pod_name": {
              "selected": false,
              "text": "internal-gateway-6-dw22d",
              "value": "internal-gateway-6-dw22d"
            }
          },
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": true,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_envoy_cluster_name",
              "expr": "increase(envoy_cluster_upstream_rq_pending_active{container=\"$service_name\", namespace=\"$namespace\", pod=\"$pod_name\"}[$inter]) OR on() vector(0)",
              "groupBy": [],
              "interval": "",
              "legendFormat": "{{envoy_cluster_name}}",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Upstream requests in pending $pod_name",
          "tooltip": {
            "shared": true,
            "sort": 2,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$datasource",
          "description": "Upstream requests cancelled before obtaining a connection pool connection $pod_name",
          "fieldConfig": {
            "defaults": {
              "custom": {},
              "links": []
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 7,
            "w": 24,
            "x": 0,
            "y": 48
          },
          "hiddenSeries": false,
          "id": 82,
          "interval": "$inter",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxPerRow": 3,
          "nullPointMode": "connected",
          "percentage": false,
          "pluginVersion": "7.1.0",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": "pod_name",
          "repeatDirection": "h",
          "scopedVars": {
            "pod_name": {
              "selected": false,
              "text": "internal-gateway-6-dw22d",
              "value": "internal-gateway-6-dw22d"
            }
          },
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": true,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_envoy_cluster_name",
              "expr": "increase(envoy_cluster_upstream_rq_cancelled{container=\"$service_name\", namespace=\"$namespace\", pod=\"$pod_name\"}[$inter]) OR on() vector(0)",
              "groupBy": [],
              "interval": "",
              "legendFormat": "{{envoy_cluster_name}}",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "",
              "rawQuery": true,
              "refId": "B",
              "resultFormat": "time_series",
              "select": [],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Upstream requests cancelled before obtaining a connection pool connection $pod_name",
          "tooltip": {
            "shared": true,
            "sort": 2,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$datasource",
          "description": "Upstream requests that timed out waiting for a response $pod_name",
          "fieldConfig": {
            "defaults": {
              "custom": {},
              "links": []
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 7,
            "w": 24,
            "x": 0,
            "y": 55
          },
          "hiddenSeries": false,
          "id": 84,
          "interval": "$inter",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxPerRow": 3,
          "nullPointMode": "connected",
          "percentage": false,
          "pluginVersion": "7.1.0",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": "pod_name",
          "repeatDirection": "h",
          "scopedVars": {
            "pod_name": {
              "selected": false,
              "text": "internal-gateway-6-dw22d",
              "value": "internal-gateway-6-dw22d"
            }
          },
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": true,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_envoy_cluster_name",
              "expr": "increase(envoy_cluster_upstream_rq_timeout{container=\"$service_name\", namespace=\"$namespace\", pod=\"$pod_name\"}[$inter]) OR on() vector(0)",
              "groupBy": [],
              "hide": false,
              "interval": "",
              "legendFormat": "{{envoy_cluster_name}}",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "",
              "rawQuery": true,
              "refId": "B",
              "resultFormat": "time_series",
              "select": [],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Upstream requests that timed out waiting for a response $pod_name",
          "tooltip": {
            "shared": true,
            "sort": 2,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        }
      ],
      "title": "Requests information",
      "type": "row"
    },
    {
      "collapsed": true,
      "datasource": null,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 20
      },
      "id": 129,
      "panels": [
        {
          "aliasColors": {
            "Update failures": "#bf1b00",
            "Update successes": "#629e51"
          },
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$datasource",
          "description": "Number of currently available subsets $pod_name",
          "fieldConfig": {
            "defaults": {
              "custom": {},
              "links": []
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 7,
            "w": 24,
            "x": 0,
            "y": 21
          },
          "hiddenSeries": false,
          "id": 127,
          "interval": "$inter",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxPerRow": 3,
          "nullPointMode": "connected",
          "percentage": false,
          "pluginVersion": "7.1.0",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": "pod_name",
          "repeatDirection": "h",
          "scopedVars": {
            "pod_name": {
              "selected": false,
              "text": "internal-gateway-6-dw22d",
              "value": "internal-gateway-6-dw22d"
            }
          },
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_envoy_cluster_name",
              "expr": "envoy_cluster_lb_subsets_active{container=\"$service_name\", namespace=\"$namespace\", pod=\"$pod_name\"} OR on() vector(0)",
              "groupBy": [],
              "interval": "",
              "legendFormat": "{{envoy_cluster_name}}",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Number of currently available subsets $pod_name",
          "tooltip": {
            "shared": true,
            "sort": 2,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": 0,
              "format": "short",
              "label": "",
              "logBase": 1,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": false
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {
            "Update failures": "#bf1b00",
            "Update successes": "#629e51"
          },
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$datasource",
          "description": "Number of times any subset was selected for load balancing $pod_name",
          "fieldConfig": {
            "defaults": {
              "custom": {},
              "links": []
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 7,
            "w": 24,
            "x": 0,
            "y": 28
          },
          "hiddenSeries": false,
          "id": 131,
          "interval": "$inter",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxPerRow": 3,
          "nullPointMode": "connected",
          "percentage": false,
          "pluginVersion": "7.1.0",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": "pod_name",
          "repeatDirection": "h",
          "scopedVars": {
            "pod_name": {
              "selected": false,
              "text": "internal-gateway-6-dw22d",
              "value": "internal-gateway-6-dw22d"
            }
          },
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_envoy_cluster_name",
              "expr": "increase(envoy_cluster_lb_subsets_selected{container=\"$service_name\", namespace=\"$namespace\", pod=\"$pod_name\"}[$inter]) OR on() vector(0)",
              "groupBy": [],
              "interval": "",
              "legendFormat": "{{envoy_cluster_name}}",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Number of times any subset was selected for load balancing $pod_name",
          "tooltip": {
            "shared": true,
            "sort": 2,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": 0,
              "format": "short",
              "label": "",
              "logBase": 1,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": false
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {
            "Update failures": "#bf1b00",
            "Update successes": "#629e51"
          },
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$datasource",
          "description": "Number of subsets removed due to no hosts $pod_name",
          "fieldConfig": {
            "defaults": {
              "custom": {},
              "links": []
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 7,
            "w": 24,
            "x": 0,
            "y": 35
          },
          "hiddenSeries": false,
          "id": 132,
          "interval": "$inter",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxPerRow": 3,
          "nullPointMode": "connected",
          "percentage": false,
          "pluginVersion": "7.1.0",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": "pod_name",
          "repeatDirection": "h",
          "scopedVars": {
            "pod_name": {
              "selected": false,
              "text": "internal-gateway-6-dw22d",
              "value": "internal-gateway-6-dw22d"
            }
          },
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": true,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_envoy_cluster_name",
              "expr": "increase(envoy_cluster_lb_subsets_removed{container=\"$service_name\", namespace=\"$namespace\", pod=\"$pod_name\"}[$inter]) OR on() vector(0)",
              "groupBy": [],
              "interval": "",
              "legendFormat": "{{envoy_cluster_name}}",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Number of subsets removed due to no hosts $pod_name",
          "tooltip": {
            "shared": true,
            "sort": 2,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": 0,
              "format": "short",
              "label": "",
              "logBase": 1,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": false
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {
            "Update failures": "#bf1b00",
            "Update successes": "#629e51"
          },
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$datasource",
          "description": "Number of requests load balanced with the load balancer in panic mode $pod_name",
          "fieldConfig": {
            "defaults": {
              "custom": {},
              "links": []
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 7,
            "w": 24,
            "x": 0,
            "y": 42
          },
          "hiddenSeries": false,
          "id": 134,
          "interval": "$inter",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxPerRow": 3,
          "nullPointMode": "connected",
          "percentage": false,
          "pluginVersion": "7.1.0",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": "pod_name",
          "repeatDirection": "h",
          "scopedVars": {
            "pod_name": {
              "selected": false,
              "text": "internal-gateway-6-dw22d",
              "value": "internal-gateway-6-dw22d"
            }
          },
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": true,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_envoy_cluster_name",
              "expr": "increase(envoy_cluster_lb_healthy_panic{container=\"$service_name\", namespace=\"$namespace\", pod=\"$pod_name\"}[$inter]) OR on() vector(0)",
              "groupBy": [],
              "interval": "",
              "legendFormat": "{{envoy_cluster_name}}",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Number of requests load balanced with the load balancer in panic mode $pod_name",
          "tooltip": {
            "shared": true,
            "sort": 2,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": 0,
              "format": "short",
              "label": "",
              "logBase": 1,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": false
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {
            "Update failures": "#bf1b00",
            "Update successes": "#629e51"
          },
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$datasource",
          "description": "Number of times the fallback policy was invoked $pod_name",
          "fieldConfig": {
            "defaults": {
              "custom": {},
              "links": []
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 7,
            "w": 24,
            "x": 0,
            "y": 49
          },
          "hiddenSeries": false,
          "id": 133,
          "interval": "$inter",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxPerRow": 3,
          "nullPointMode": "connected",
          "percentage": false,
          "pluginVersion": "7.1.0",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": "pod_name",
          "repeatDirection": "h",
          "scopedVars": {
            "pod_name": {
              "selected": false,
              "text": "internal-gateway-6-dw22d",
              "value": "internal-gateway-6-dw22d"
            }
          },
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": true,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_envoy_cluster_name",
              "expr": "increase(envoy_cluster_lb_subsets_fallback{container=\"$service_name\", namespace=\"$namespace\", pod=\"$pod_name\"}[$inter]) OR on() vector(0)",
              "groupBy": [],
              "interval": "",
              "legendFormat": "{{envoy_cluster_name}}",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Number of times the fallback policy was invoked $pod_name",
          "tooltip": {
            "shared": true,
            "sort": 2,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": 0,
              "format": "short",
              "label": "",
              "logBase": 1,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": false
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {
            "Update failures": "#bf1b00",
            "Update successes": "#629e51"
          },
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$datasource",
          "description": "Number of times ended with random zone selection due to rounding error $pod_name",
          "fieldConfig": {
            "defaults": {
              "custom": {},
              "links": []
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 7,
            "w": 24,
            "x": 0,
            "y": 56
          },
          "hiddenSeries": false,
          "id": 136,
          "interval": "$inter",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxPerRow": 3,
          "nullPointMode": "connected",
          "percentage": false,
          "pluginVersion": "7.1.0",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": "pod_name",
          "repeatDirection": "h",
          "scopedVars": {
            "pod_name": {
              "selected": false,
              "text": "internal-gateway-6-dw22d",
              "value": "internal-gateway-6-dw22d"
            }
          },
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": true,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_envoy_cluster_name",
              "expr": "increase(envoy_cluster_lb_zone_no_capacity_left{container=\"$service_name\", namespace=\"$namespace\", pod=\"$pod_name\"}[$inter]) OR on() vector(0)",
              "groupBy": [],
              "interval": "",
              "legendFormat": "{{envoy_cluster_name}}",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Number of times ended with random zone selection due to rounding error $pod_name",
          "tooltip": {
            "shared": true,
            "sort": 2,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": 0,
              "format": "short",
              "label": "",
              "logBase": 1,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": false
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {
            "Update failures": "#bf1b00",
            "Update successes": "#629e51"
          },
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$datasource",
          "description": "Number of subsets created $pod_name",
          "fieldConfig": {
            "defaults": {
              "custom": {},
              "links": []
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 7,
            "w": 24,
            "x": 0,
            "y": 63
          },
          "hiddenSeries": false,
          "id": 130,
          "interval": "$inter",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxPerRow": 3,
          "nullPointMode": "connected",
          "percentage": false,
          "pluginVersion": "7.1.0",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": "pod_name",
          "repeatDirection": "h",
          "scopedVars": {
            "pod_name": {
              "selected": false,
              "text": "internal-gateway-6-dw22d",
              "value": "internal-gateway-6-dw22d"
            }
          },
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": true,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_envoy_cluster_name",
              "expr": "increase(envoy_cluster_lb_subsets_created{container=\"$service_name\", namespace=\"$namespace\", pod=\"$pod_name\"}[$inter]) OR on() vector(0)",
              "groupBy": [],
              "interval": "",
              "legendFormat": "{{envoy_cluster_name}}",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Number of subsets created $pod_name",
          "tooltip": {
            "shared": true,
            "sort": 2,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": 0,
              "format": "short",
              "label": "",
              "logBase": 1,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": false
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {
            "Update failures": "#bf1b00",
            "Update successes": "#629e51"
          },
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$datasource",
          "description": "Number of times the subset panic mode triggered $pod_name",
          "fieldConfig": {
            "defaults": {
              "custom": {},
              "links": []
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 7,
            "w": 24,
            "x": 0,
            "y": 70
          },
          "hiddenSeries": false,
          "id": 135,
          "interval": "$inter",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxPerRow": 3,
          "nullPointMode": "connected",
          "percentage": false,
          "pluginVersion": "7.1.0",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": "pod_name",
          "repeatDirection": "h",
          "scopedVars": {
            "pod_name": {
              "selected": false,
              "text": "internal-gateway-6-dw22d",
              "value": "internal-gateway-6-dw22d"
            }
          },
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": true,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_envoy_cluster_name",
              "expr": "increase(envoy_cluster_lb_subsets_fallback_panic{container=\"$service_name\", namespace=\"$namespace\", pod=\"$pod_name\"}[$inter]) OR on() vector(0)",
              "groupBy": [],
              "interval": "",
              "legendFormat": "{{envoy_cluster_name}}",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Number of times the subset panic mode triggered $pod_name",
          "tooltip": {
            "shared": true,
            "sort": 2,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": 0,
              "format": "short",
              "label": "",
              "logBase": 1,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": false
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {
            "Update failures": "#bf1b00",
            "Update successes": "#629e51"
          },
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$datasource",
          "description": "Number of invalid hosts passed to original destination load balancer $pod_name",
          "fieldConfig": {
            "defaults": {
              "custom": {},
              "links": []
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 7,
            "w": 24,
            "x": 0,
            "y": 77
          },
          "hiddenSeries": false,
          "id": 137,
          "interval": "$inter",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxPerRow": 3,
          "nullPointMode": "connected",
          "percentage": false,
          "pluginVersion": "7.1.0",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": "pod_name",
          "repeatDirection": "h",
          "scopedVars": {
            "pod_name": {
              "selected": false,
              "text": "internal-gateway-6-dw22d",
              "value": "internal-gateway-6-dw22d"
            }
          },
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": true,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_envoy_cluster_name",
              "expr": "increase(envoy_cluster_original_dst_host_invalid{container=\"$service_name\", namespace=\"$namespace\", pod=\"$pod_name\"}[$inter]) OR on() vector(0)",
              "groupBy": [],
              "interval": "",
              "legendFormat": "{{envoy_cluster_name}}",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Number of invalid hosts passed to original destination load balancer $pod_name",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": 0,
              "format": "short",
              "label": "",
              "logBase": 1,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": false
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {
            "Update failures": "#bf1b00",
            "Update successes": "#629e51"
          },
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$datasource",
          "description": "Number of local host set is not set or it is panic mode for local cluster $pod_name",
          "fieldConfig": {
            "defaults": {
              "custom": {},
              "links": []
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 7,
            "w": 24,
            "x": 0,
            "y": 84
          },
          "hiddenSeries": false,
          "id": 138,
          "interval": "$inter",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxPerRow": 3,
          "nullPointMode": "connected",
          "percentage": false,
          "pluginVersion": "7.1.0",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": "pod_name",
          "repeatDirection": "h",
          "scopedVars": {
            "pod_name": {
              "selected": false,
              "text": "internal-gateway-6-dw22d",
              "value": "internal-gateway-6-dw22d"
            }
          },
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": true,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_envoy_cluster_name",
              "expr": "increase(envoy_cluster_lb_local_cluster_not_ok{container=\"$service_name\", namespace=\"$namespace\", pod=\"$pod_name\"}[$inter]) OR on() vector(0)",
              "groupBy": [],
              "interval": "",
              "legendFormat": "{{envoy_cluster_name}}",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Number of local host set is not set or it is panic mode for local cluster $pod_name",
          "tooltip": {
            "shared": true,
            "sort": 2,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": 0,
              "format": "short",
              "label": "",
              "logBase": 1,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": false
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        }
      ],
      "title": "Load balancing",
      "type": "row"
    },
    {
      "collapsed": true,
      "datasource": null,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 21
      },
      "id": 94,
      "panels": [
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$datasource",
          "decimals": 0,
          "description": "Displays the number of Connections per Second being performed against each Upstream $pod_name",
          "fieldConfig": {
            "defaults": {
              "custom": {},
              "links": []
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 7,
            "w": 24,
            "x": 0,
            "y": 22
          },
          "hiddenSeries": false,
          "id": 14,
          "interval": "$inter",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "current",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxPerRow": 3,
          "nullPointMode": "connected",
          "percentage": false,
          "pluginVersion": "7.1.0",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": "pod_name",
          "repeatDirection": "h",
          "scopedVars": {
            "pod_name": {
              "selected": false,
              "text": "internal-gateway-6-dw22d",
              "value": "internal-gateway-6-dw22d"
            }
          },
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": true,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_envoy_cluster_name",
              "expr": "increase(envoy_cluster_upstream_cx_total{container=\"$service_name\", namespace=\"$namespace\", pod=\"$pod_name\"}[$inter]) OR on() vector(0)",
              "format": "time_series",
              "groupBy": [],
              "hide": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{envoy_cluster_name}}",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Upstream connections $pod_name",
          "tooltip": {
            "shared": true,
            "sort": 2,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": 0,
              "format": "short",
              "label": "",
              "logBase": 1,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": false
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$datasource",
          "decimals": 1,
          "description": "Upstream requests per second $pod_name",
          "fieldConfig": {
            "defaults": {
              "custom": {},
              "links": []
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 7,
            "w": 24,
            "x": 0,
            "y": 29
          },
          "hiddenSeries": false,
          "id": 2,
          "interval": "$inter",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "sort": "current",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxPerRow": 3,
          "nullPointMode": "connected",
          "percentage": false,
          "pluginVersion": "7.1.0",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": "pod_name",
          "repeatDirection": "h",
          "scopedVars": {
            "pod_name": {
              "selected": false,
              "text": "internal-gateway-6-dw22d",
              "value": "internal-gateway-6-dw22d"
            }
          },
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": true,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_envoy_cluster_name",
              "expr": "rate(envoy_cluster_upstream_rq_total{container=\"$service_name\", namespace=\"$namespace\", pod=\"$pod_name\"}[$inter]) OR on() vector(0)",
              "format": "time_series",
              "groupBy": [],
              "hide": false,
              "interval": "",
              "intervalFactor": 2,
              "legendFormat": "{{envoy_cluster_name}}",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Upstream requests per second $pod_name",
          "tooltip": {
            "shared": true,
            "sort": 2,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "short",
              "label": "Request / sec",
              "logBase": 1,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$datasource",
          "description": "Common response time out of a minute $pod_name",
          "fieldConfig": {
            "defaults": {
              "custom": {},
              "links": []
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 7,
            "w": 24,
            "x": 0,
            "y": 36
          },
          "hiddenSeries": false,
          "id": 60,
          "interval": "$inter",
          "legend": {
            "alignAsTable": true,
            "avg": true,
            "current": true,
            "hideZero": false,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxPerRow": 3,
          "nullPointMode": "connected",
          "percentage": false,
          "pluginVersion": "7.1.0",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": "pod_name",
          "repeatDirection": "h",
          "scopedVars": {
            "pod_name": {
              "selected": false,
              "text": "internal-gateway-6-dw22d",
              "value": "internal-gateway-6-dw22d"
            }
          },
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": true,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_envoy_cluster_name",
              "expr": "increase(envoy_cluster_upstream_rq_time_sum{container=\"$service_name\", namespace=\"$namespace\", pod=\"$pod_name\"}[$inter])",
              "groupBy": [],
              "hide": false,
              "interval": "",
              "legendFormat": "{{envoy_cluster_name}}",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Upstream Latency $pod_name",
          "tooltip": {
            "shared": true,
            "sort": 2,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "ms",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$datasource",
          "description": "Number of upstream connection failures $pod_name",
          "fieldConfig": {
            "defaults": {
              "custom": {},
              "links": []
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 7,
            "w": 24,
            "x": 0,
            "y": 43
          },
          "hiddenSeries": false,
          "id": 97,
          "interval": "$inter",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxPerRow": 3,
          "nullPointMode": "connected",
          "percentage": false,
          "pluginVersion": "7.1.0",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": "pod_name",
          "repeatDirection": "h",
          "scopedVars": {
            "pod_name": {
              "selected": false,
              "text": "internal-gateway-6-dw22d",
              "value": "internal-gateway-6-dw22d"
            }
          },
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": true,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_envoy_cluster_name",
              "expr": "increase(envoy_cluster_upstream_cx_connect_fail{container=\"$service_name\", namespace=\"$namespace\", pod=\"$pod_name\"}[$inter]) OR on() vector(0)",
              "groupBy": [],
              "hide": false,
              "interval": "",
              "legendFormat": "{{envoy_cluster_name}}",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Number of upstream connection failures $pod_name",
          "tooltip": {
            "shared": true,
            "sort": 2,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": 0,
              "format": "none",
              "label": "",
              "logBase": 1,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$datasource",
          "description": "Number of upstream connection connect timeouts $pod_name",
          "fieldConfig": {
            "defaults": {
              "custom": {},
              "links": []
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 7,
            "w": 24,
            "x": 0,
            "y": 50
          },
          "hiddenSeries": false,
          "id": 98,
          "interval": "$inter",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxPerRow": 3,
          "nullPointMode": "connected",
          "percentage": false,
          "pluginVersion": "7.1.0",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": "pod_name",
          "repeatDirection": "h",
          "scopedVars": {
            "pod_name": {
              "selected": false,
              "text": "internal-gateway-6-dw22d",
              "value": "internal-gateway-6-dw22d"
            }
          },
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": true,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_envoy_cluster_name",
              "expr": "increase(envoy_cluster_upstream_cx_connect_timeout{container=\"$service_name\", namespace=\"$namespace\", pod=\"$pod_name\"}[$inter]) OR on() vector(0)",
              "groupBy": [],
              "hide": false,
              "interval": "",
              "legendFormat": "{{envoy_cluster_name}}",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Number of upstream connection connect timeouts $pod_name",
          "tooltip": {
            "shared": true,
            "sort": 2,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": 0,
              "format": "none",
              "label": "",
              "logBase": 1,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        }
      ],
      "title": "Upstream",
      "type": "row"
    },
    {
      "collapsed": true,
      "datasource": null,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 22
      },
      "id": 24,
      "panels": [
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$datasource",
          "description": "Total amount of connections through different connection managers $pod_name",
          "fieldConfig": {
            "defaults": {
              "custom": {},
              "links": []
            },
            "overrides": []
          },
          "fill": 2,
          "fillGradient": 0,
          "gridPos": {
            "h": 7,
            "w": 24,
            "x": 0,
            "y": 23
          },
          "hiddenSeries": false,
          "id": 9,
          "interval": "$inter",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": false,
            "show": true,
            "sort": "current",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 2,
          "links": [],
          "maxPerRow": 3,
          "nullPointMode": "connected",
          "percentage": false,
          "pluginVersion": "7.1.0",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": "pod_name",
          "repeatDirection": "h",
          "scopedVars": {
            "pod_name": {
              "selected": false,
              "text": "internal-gateway-6-dw22d",
              "value": "internal-gateway-6-dw22d"
            }
          },
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": true,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_envoy_http_conn_manager_prefix",
              "expr": "increase(envoy_http_downstream_cx_total{container=\"$service_name\", namespace=\"$namespace\", pod=\"$pod_name\"}[$inter]) OR on() vector(0)",
              "format": "time_series",
              "groupBy": [],
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{envoy_http_conn_manager_prefix}}",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Downstream connections $pod_name",
          "tooltip": {
            "shared": true,
            "sort": 2,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "short",
              "label": "",
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$datasource",
          "description": "Total amount of downstream requests per second  through connection manager $pod_name",
          "fieldConfig": {
            "defaults": {
              "custom": {},
              "links": []
            },
            "overrides": []
          },
          "fill": 2,
          "fillGradient": 0,
          "gridPos": {
            "h": 7,
            "w": 24,
            "x": 0,
            "y": 30
          },
          "hiddenSeries": false,
          "id": 3,
          "interval": "$inter",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": false,
            "show": true,
            "sort": "current",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 2,
          "links": [],
          "maxPerRow": 3,
          "nullPointMode": "connected",
          "percentage": false,
          "pluginVersion": "7.1.0",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": "pod_name",
          "repeatDirection": "h",
          "scopedVars": {
            "pod_name": {
              "selected": false,
              "text": "internal-gateway-6-dw22d",
              "value": "internal-gateway-6-dw22d"
            }
          },
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": true,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_envoy_http_conn_manager_prefix",
              "expr": "rate(envoy_http_downstream_rq_total{container=\"$service_name\", namespace=\"$namespace\", pod=\"$pod_name\"}[$inter]) OR on() vector(0)",
              "format": "time_series",
              "groupBy": [],
              "interval": "",
              "intervalFactor": 2,
              "legendFormat": "{{envoy_http_conn_manager_prefix}}",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Downstream requests per second $pod_name",
          "tooltip": {
            "shared": true,
            "sort": 2,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "short",
              "label": "Request / sec",
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$datasource",
          "description": "Downstream Latency $pod_name",
          "fieldConfig": {
            "defaults": {
              "custom": {},
              "links": []
            },
            "overrides": []
          },
          "fill": 2,
          "fillGradient": 0,
          "gridPos": {
            "h": 7,
            "w": 24,
            "x": 0,
            "y": 37
          },
          "hiddenSeries": false,
          "id": 62,
          "interval": "$inter",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": false,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 2,
          "links": [],
          "maxPerRow": 3,
          "nullPointMode": "connected",
          "percentage": false,
          "pluginVersion": "7.1.0",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": "pod_name",
          "repeatDirection": "h",
          "scopedVars": {
            "pod_name": {
              "selected": false,
              "text": "internal-gateway-6-dw22d",
              "value": "internal-gateway-6-dw22d"
            }
          },
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": true,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_envoy_http_conn_manager_prefix",
              "expr": "increase(envoy_http_downstream_rq_time_sum{container=\"$service_name\", namespace=\"$namespace\", pod=\"$pod_name\"}[$inter]) OR on() vector(0)",
              "groupBy": [],
              "interval": "",
              "legendFormat": "{{envoy_http_conn_manager_prefix}}",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Downstream Latency $pod_name",
          "tooltip": {
            "shared": true,
            "sort": 2,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "ms",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        }
      ],
      "title": "Downstream",
      "type": "row"
    },
    {
      "collapsed": true,
      "datasource": null,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 23
      },
      "id": 42,
      "panels": [
        {
          "aliasColors": {},
          "bars": true,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$datasource",
          "description": "Upstream sent/received data per second $pod_name",
          "fieldConfig": {
            "defaults": {
              "custom": {},
              "links": []
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 7,
            "w": 24,
            "x": 0,
            "y": 24
          },
          "hiddenSeries": false,
          "id": 99,
          "interval": "$inter",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": false,
            "hideZero": false,
            "max": true,
            "min": false,
            "rightSide": false,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": false,
          "linewidth": 1,
          "links": [],
          "maxPerRow": 3,
          "nullPointMode": "connected",
          "percentage": false,
          "pluginVersion": "7.1.0",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": "pod_name",
          "repeatDirection": "h",
          "scopedVars": {
            "pod_name": {
              "selected": false,
              "text": "internal-gateway-6-dw22d",
              "value": "internal-gateway-6-dw22d"
            }
          },
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "alias": "Sent",
              "expr": "sum(rate(envoy_cluster_upstream_cx_tx_bytes_total{container=\"$service_name\", namespace=\"$namespace\", pod=\"$pod_name\"}[$inter]))",
              "groupBy": [],
              "hide": false,
              "interval": "",
              "legendFormat": "Sent",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [],
              "tags": []
            },
            {
              "alias": "Received",
              "expr": "-sum(rate(envoy_cluster_upstream_cx_rx_bytes_total{container=\"$service_name\", namespace=\"$namespace\", pod=\"$pod_name\"}[$inter]))",
              "groupBy": [],
              "hide": false,
              "interval": "",
              "legendFormat": "Received",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "",
              "rawQuery": true,
              "refId": "B",
              "resultFormat": "time_series",
              "select": [],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Upstream sent/received data per second $pod_name",
          "tooltip": {
            "shared": true,
            "sort": 2,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "decbytes",
              "label": "",
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": true,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$datasource",
          "description": "Upstream sent/received bytes currently buffered $pod_name",
          "fieldConfig": {
            "defaults": {
              "custom": {},
              "links": []
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 7,
            "w": 24,
            "x": 0,
            "y": 31
          },
          "hiddenSeries": false,
          "id": 100,
          "interval": "$inter",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "max": true,
            "min": false,
            "rightSide": false,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": false,
          "linewidth": 1,
          "links": [],
          "maxPerRow": 3,
          "nullPointMode": "connected",
          "percentage": false,
          "pluginVersion": "7.1.0",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": "pod_name",
          "repeatDirection": "h",
          "scopedVars": {
            "pod_name": {
              "selected": false,
              "text": "internal-gateway-6-dw22d",
              "value": "internal-gateway-6-dw22d"
            }
          },
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": true,
          "steppedLine": false,
          "targets": [
            {
              "alias": "Sent",
              "expr": "sum(increase(envoy_cluster_upstream_cx_tx_bytes_buffered{container=\"$service_name\", namespace=\"$namespace\", pod=\"$pod_name\"}[$inter]))",
              "groupBy": [],
              "hide": false,
              "interval": "",
              "legendFormat": "Sent",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [],
              "tags": []
            },
            {
              "alias": "Received",
              "expr": "sum(rate(envoy_cluster_upstream_cx_rx_bytes_buffered{container=\"$service_name\", namespace=\"$namespace\", pod=\"$pod_name\"}[$inter]))",
              "groupBy": [],
              "hide": false,
              "interval": "",
              "legendFormat": "Received",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "",
              "rawQuery": true,
              "refId": "B",
              "resultFormat": "time_series",
              "select": [],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Upstream sent/received bytes currently buffered $pod_name",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "decbytes",
              "label": "",
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": false
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": true,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$datasource",
          "description": "Downstream sent/received data per second $pod_name",
          "fieldConfig": {
            "defaults": {
              "custom": {},
              "links": []
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 7,
            "w": 24,
            "x": 0,
            "y": 38
          },
          "hiddenSeries": false,
          "id": 105,
          "interval": "$inter",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "max": true,
            "min": false,
            "rightSide": false,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": false,
          "linewidth": 1,
          "links": [],
          "maxPerRow": 3,
          "nullPointMode": "connected",
          "percentage": false,
          "pluginVersion": "7.1.0",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": "pod_name",
          "repeatDirection": "h",
          "scopedVars": {
            "pod_name": {
              "selected": false,
              "text": "internal-gateway-6-dw22d",
              "value": "internal-gateway-6-dw22d"
            }
          },
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "alias": "Sent",
              "expr": "sum(rate(envoy_http_downstream_cx_tx_bytes_total{container=\"$service_name\", namespace=\"$namespace\", pod=\"$pod_name\"}[$inter]))",
              "groupBy": [],
              "hide": false,
              "interval": "",
              "legendFormat": "Sent",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [],
              "tags": []
            },
            {
              "alias": "Received",
              "expr": "-sum(rate(envoy_http_downstream_cx_rx_bytes_total{container=\"$service_name\", namespace=\"$namespace\", pod=\"$pod_name\"}[$inter]))",
              "groupBy": [],
              "hide": false,
              "interval": "",
              "legendFormat": "Received",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "",
              "rawQuery": true,
              "refId": "B",
              "resultFormat": "time_series",
              "select": [],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Downstream sent/received data per second $pod_name",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "decbytes",
              "label": "",
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": true,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$datasource",
          "description": "Downstream sent/received bytes currently buffered $pod_name",
          "fieldConfig": {
            "defaults": {
              "custom": {},
              "links": []
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 7,
            "w": 24,
            "x": 0,
            "y": 45
          },
          "hiddenSeries": false,
          "id": 106,
          "interval": "$inter",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "max": true,
            "min": false,
            "rightSide": false,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": false,
          "linewidth": 1,
          "links": [],
          "maxPerRow": 3,
          "nullPointMode": "connected",
          "percentage": false,
          "pluginVersion": "7.1.0",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": "pod_name",
          "repeatDirection": "h",
          "scopedVars": {
            "pod_name": {
              "selected": false,
              "text": "internal-gateway-6-dw22d",
              "value": "internal-gateway-6-dw22d"
            }
          },
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": true,
          "steppedLine": false,
          "targets": [
            {
              "alias": "Sent",
              "expr": "sum(rate(envoy_http_downstream_cx_tx_bytes_buffered{container=\"$service_name\", namespace=\"$namespace\", pod=\"$pod_name\"}[$inter]))",
              "groupBy": [],
              "hide": false,
              "interval": "",
              "legendFormat": "Sent",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [],
              "tags": []
            },
            {
              "alias": "Received",
              "expr": "sum(rate(envoy_http_downstream_cx_rx_bytes_buffered{container=\"$service_name\", namespace=\"$namespace\", pod=\"$pod_name\"}[$inter]))",
              "groupBy": [],
              "hide": false,
              "interval": "",
              "legendFormat": "Received",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "",
              "rawQuery": true,
              "refId": "B",
              "resultFormat": "time_series",
              "select": [],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Downstream sent/received bytes currently buffered $pod_name",
          "tooltip": {
            "shared": true,
            "sort": 2,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "decbytes",
              "label": "",
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": false
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        }
      ],
      "title": "Network Traffic",
      "type": "row"
    },
    {
      "collapsed": true,
      "datasource": null,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 24
      },
      "id": 140,
      "panels": [
        {
          "aliasColors": {
            "Update failures": "#bf1b00",
            "Update successes": "#629e51"
          },
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$datasource",
          "description": "Whether the connection circuit breaker is closed (0) or open (1) for default priority $pod_name",
          "fieldConfig": {
            "defaults": {
              "custom": {},
              "links": []
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 5,
            "w": 24,
            "x": 0,
            "y": 25
          },
          "hiddenSeries": false,
          "id": 141,
          "interval": "$inter",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": false,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxPerRow": 3,
          "nullPointMode": "connected",
          "percentage": false,
          "pluginVersion": "7.1.0",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": "pod_name",
          "repeatDirection": "h",
          "scopedVars": {
            "pod_name": {
              "selected": false,
              "text": "internal-gateway-6-dw22d",
              "value": "internal-gateway-6-dw22d"
            }
          },
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_envoy_cluster_name",
              "expr": "envoy_cluster_circuit_breakers_default_cx_open{container=\"$service_name\", namespace=\"$namespace\", pod=\"$pod_name\"}",
              "groupBy": [],
              "interval": "",
              "legendFormat": "{{envoy_cluster_name}}",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Whether the connection circuit breaker is closed  or open for default priority $pod_name",
          "tooltip": {
            "shared": true,
            "sort": 2,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": 0,
              "format": "short",
              "label": "",
              "logBase": 1,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": false
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {
            "Update failures": "#bf1b00",
            "Update successes": "#629e51"
          },
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$datasource",
          "description": "Whether the requests circuit breaker is closed (0) or open (1) for default priority $pod_name",
          "fieldConfig": {
            "defaults": {
              "custom": {},
              "links": []
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 5,
            "w": 24,
            "x": 0,
            "y": 30
          },
          "hiddenSeries": false,
          "id": 143,
          "interval": "$inter",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": false,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxPerRow": 3,
          "nullPointMode": "connected",
          "percentage": false,
          "pluginVersion": "7.1.0",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": "pod_name",
          "repeatDirection": "h",
          "scopedVars": {
            "pod_name": {
              "selected": false,
              "text": "internal-gateway-6-dw22d",
              "value": "internal-gateway-6-dw22d"
            }
          },
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_envoy_cluster_name",
              "expr": "envoy_cluster_circuit_breakers_default_rq_open{container=\"$service_name\", namespace=\"$namespace\", pod=\"$pod_name\"} OR on() vector(0)",
              "groupBy": [],
              "interval": "",
              "legendFormat": "{{envoy_cluster_name}}",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Whether the requests circuit breaker is closed  or open for default priority $pod_name",
          "tooltip": {
            "shared": true,
            "sort": 2,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": 0,
              "format": "short",
              "label": "",
              "logBase": 1,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": false
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {
            "Update failures": "#bf1b00",
            "Update successes": "#629e51"
          },
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$datasource",
          "description": "Whether the connection circuit breaker is closed (0) or open (1) for high priority $pod_name",
          "fieldConfig": {
            "defaults": {
              "custom": {},
              "links": []
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 5,
            "w": 24,
            "x": 0,
            "y": 35
          },
          "hiddenSeries": false,
          "id": 142,
          "interval": "$inter",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": false,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxPerRow": 3,
          "nullPointMode": "connected",
          "percentage": false,
          "pluginVersion": "7.1.0",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": "pod_name",
          "repeatDirection": "h",
          "scopedVars": {
            "pod_name": {
              "selected": false,
              "text": "internal-gateway-6-dw22d",
              "value": "internal-gateway-6-dw22d"
            }
          },
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_envoy_cluster_name",
              "expr": "envoy_cluster_circuit_breakers_high_cx_open{container=\"$service_name\", namespace=\"$namespace\", pod=\"$pod_name\"} OR on() vector(0)",
              "groupBy": [],
              "interval": "",
              "legendFormat": "{{envoy_cluster_name}}",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Whether the connection circuit breaker is closed  or open for high  priority $pod_name",
          "tooltip": {
            "shared": true,
            "sort": 2,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": 0,
              "format": "short",
              "label": "",
              "logBase": 1,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": false
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {
            "Update failures": "#bf1b00",
            "Update successes": "#629e51"
          },
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$datasource",
          "description": "Whether the requests circuit breaker is closed (0) or open (1) for high priority $pod_name",
          "fieldConfig": {
            "defaults": {
              "custom": {},
              "links": []
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 5,
            "w": 24,
            "x": 0,
            "y": 40
          },
          "hiddenSeries": false,
          "id": 144,
          "interval": "$inter",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxPerRow": 3,
          "nullPointMode": "connected",
          "percentage": false,
          "pluginVersion": "7.1.0",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": "pod_name",
          "repeatDirection": "h",
          "scopedVars": {
            "pod_name": {
              "selected": false,
              "text": "internal-gateway-6-dw22d",
              "value": "internal-gateway-6-dw22d"
            }
          },
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_envoy_cluster_name",
              "expr": "envoy_cluster_circuit_breakers_high_rq_open{container=\"$service_name\", namespace=\"$namespace\", pod=\"$pod_name\"} OR on() vector(0)",
              "groupBy": [],
              "interval": "",
              "legendFormat": "{{envoy_cluster_name}}",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Whether the requests circuit breaker is closed  or open for high priority $pod_name",
          "tooltip": {
            "shared": true,
            "sort": 2,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": 0,
              "format": "short",
              "label": "",
              "logBase": 1,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": false
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        }
      ],
      "title": "Circuit breakers",
      "type": "row"
    },
    {
      "collapsed": true,
      "datasource": null,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 25
      },
      "id": 103,
      "panels": [
        {
          "aliasColors": {},
          "bars": true,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$datasource",
          "description": "Number of upstream requests completed $pod_name",
          "fieldConfig": {
            "defaults": {
              "custom": {},
              "links": []
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 6,
            "w": 24,
            "x": 0,
            "y": 26
          },
          "hiddenSeries": false,
          "id": 107,
          "interval": "$inter",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": false,
          "linewidth": 1,
          "links": [],
          "maxPerRow": 3,
          "nullPointMode": "connected",
          "percentage": false,
          "pluginVersion": "7.1.0",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": "pod_name",
          "repeatDirection": "h",
          "scopedVars": {
            "pod_name": {
              "selected": false,
              "text": "internal-gateway-6-dw22d",
              "value": "internal-gateway-6-dw22d"
            }
          },
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": true,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_envoy_cluster_name",
              "expr": "increase(envoy_cluster_upstream_rq_completed{container=\"$service_name\", namespace=\"$namespace\", pod=\"$pod_name\"}[$inter]) OR on() vector(0)",
              "groupBy": [],
              "hide": false,
              "interval": "",
              "legendFormat": "{{envoy_cluster_name}}",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Number of upstream requests completed $pod_name",
          "tooltip": {
            "shared": true,
            "sort": 2,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": 0,
              "format": "none",
              "label": "",
              "logBase": 1,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": true,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$datasource",
          "description": "Number of upstream requests completed  with response code 2XX $pod_name",
          "fieldConfig": {
            "defaults": {
              "custom": {},
              "links": []
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 6,
            "w": 24,
            "x": 0,
            "y": 32
          },
          "hiddenSeries": false,
          "id": 108,
          "interval": "$inter",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": false,
          "linewidth": 1,
          "links": [],
          "maxPerRow": 3,
          "nullPointMode": "connected",
          "percentage": false,
          "pluginVersion": "7.1.0",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": "pod_name",
          "repeatDirection": "h",
          "scopedVars": {
            "pod_name": {
              "selected": false,
              "text": "internal-gateway-6-dw22d",
              "value": "internal-gateway-6-dw22d"
            }
          },
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": true,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_envoy_cluster_name",
              "expr": "increase(envoy_cluster_upstream_rq_xx{container=\"$service_name\", namespace=\"$namespace\", pod=\"$pod_name\", envoy_response_code_class=\"2\"}[$inter]) OR on() vector(0)",
              "groupBy": [],
              "hide": false,
              "interval": "",
              "legendFormat": "{{envoy_cluster_name}}",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Number of upstream requests completed  with response code 2XX $pod_name",
          "tooltip": {
            "shared": true,
            "sort": 2,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": 0,
              "format": "none",
              "label": "",
              "logBase": 1,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": true,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$datasource",
          "description": "Number of upstream requests completed with response code 4XX $pod_name",
          "fieldConfig": {
            "defaults": {
              "custom": {},
              "links": []
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 6,
            "w": 24,
            "x": 0,
            "y": 38
          },
          "hiddenSeries": false,
          "id": 109,
          "interval": "$inter",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": false,
          "linewidth": 1,
          "links": [],
          "maxPerRow": 3,
          "nullPointMode": "connected",
          "percentage": false,
          "pluginVersion": "7.1.0",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": "pod_name",
          "repeatDirection": "h",
          "scopedVars": {
            "pod_name": {
              "selected": false,
              "text": "internal-gateway-6-dw22d",
              "value": "internal-gateway-6-dw22d"
            }
          },
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": true,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_envoy_cluster_name",
              "expr": "increase(envoy_cluster_upstream_rq_xx{container=\"$service_name\", namespace=\"$namespace\", pod=\"$pod_name\", envoy_response_code_class=\"4\"}[$inter]) OR on() vector(0)",
              "groupBy": [],
              "hide": false,
              "interval": "",
              "legendFormat": "{{envoy_cluster_name}}",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Number of upstream requests completed with response code 4XX $pod_name",
          "tooltip": {
            "shared": true,
            "sort": 2,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": 0,
              "format": "none",
              "label": "",
              "logBase": 1,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": true,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$datasource",
          "description": "Number of upstream requests completed with response code 5XX $pod_name",
          "fieldConfig": {
            "defaults": {
              "custom": {},
              "links": []
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 6,
            "w": 24,
            "x": 0,
            "y": 44
          },
          "hiddenSeries": false,
          "id": 110,
          "interval": "$inter",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": false,
          "linewidth": 1,
          "links": [],
          "maxPerRow": 3,
          "nullPointMode": "connected",
          "percentage": false,
          "pluginVersion": "7.1.0",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": "pod_name",
          "repeatDirection": "h",
          "scopedVars": {
            "pod_name": {
              "selected": false,
              "text": "internal-gateway-6-dw22d",
              "value": "internal-gateway-6-dw22d"
            }
          },
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": true,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_envoy_cluster_name",
              "expr": "increase(envoy_cluster_upstream_rq_xx{container=\"$service_name\", namespace=\"$namespace\", pod=\"$pod_name\", envoy_response_code_class=\"5\"}[$inter]) OR on() vector(0)",
              "groupBy": [],
              "hide": false,
              "interval": "",
              "legendFormat": "{{envoy_cluster_name}}",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Number of upstream requests completed  with response code 5XX $pod_name",
          "tooltip": {
            "shared": true,
            "sort": 2,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": 0,
              "format": "short",
              "label": "",
              "logBase": 1,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        }
      ],
      "title": "Dynamic http statistics",
      "type": "row"
    },
    {
      "collapsed": true,
      "datasource": null,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 26
      },
      "id": 112,
      "panels": [
        {
          "aliasColors": {},
          "bars": true,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$datasource",
          "description": "Number of internal upstream requests completed $pod_name",
          "fieldConfig": {
            "defaults": {
              "custom": {},
              "links": []
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 6,
            "w": 24,
            "x": 0,
            "y": 27
          },
          "hiddenSeries": false,
          "id": 115,
          "interval": "$inter",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": false,
          "linewidth": 1,
          "links": [],
          "maxPerRow": 3,
          "nullPointMode": "connected",
          "percentage": false,
          "pluginVersion": "7.1.0",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": "pod_name",
          "repeatDirection": "h",
          "scopedVars": {
            "pod_name": {
              "selected": false,
              "text": "internal-gateway-6-dw22d",
              "value": "internal-gateway-6-dw22d"
            }
          },
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": true,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_envoy_cluster_name",
              "expr": "increase(envoy_cluster_internal_upstream_rq_completed{container=\"$service_name\", namespace=\"$namespace\", pod=\"$pod_name\"}[$inter])",
              "groupBy": [],
              "hide": false,
              "interval": "",
              "legendFormat": "{{envoy_cluster_name}}",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Number of internal upstream requests completed $pod_name",
          "tooltip": {
            "shared": true,
            "sort": 2,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": 0,
              "format": "none",
              "label": "",
              "logBase": 1,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": true,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$datasource",
          "description": "Number of internal upstream requests completed 2XX $pod_name",
          "fieldConfig": {
            "defaults": {
              "custom": {},
              "links": []
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 6,
            "w": 24,
            "x": 0,
            "y": 33
          },
          "hiddenSeries": false,
          "id": 124,
          "interval": "$inter",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": false,
          "linewidth": 1,
          "links": [],
          "maxPerRow": 3,
          "nullPointMode": "connected",
          "percentage": false,
          "pluginVersion": "7.1.0",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": "pod_name",
          "repeatDirection": "h",
          "scopedVars": {
            "pod_name": {
              "selected": false,
              "text": "internal-gateway-6-dw22d",
              "value": "internal-gateway-6-dw22d"
            }
          },
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": true,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_envoy_cluster_name",
              "expr": "increase(envoy_cluster_internal_upstream_rq_xx{container=\"$service_name\", namespace=\"$namespace\", pod=\"$pod_name\", envoy_response_code_class=\"2\"}[$inter]) OR on() vector(0)",
              "groupBy": [],
              "hide": false,
              "interval": "",
              "legendFormat": "{{envoy_cluster_name}}",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Number of internal upstream requests completed 2XX $pod_name",
          "tooltip": {
            "shared": true,
            "sort": 2,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": 0,
              "format": "none",
              "label": "",
              "logBase": 1,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": true,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$datasource",
          "description": "Number of internal upstream requests completed 4XX $pod_name",
          "fieldConfig": {
            "defaults": {
              "custom": {},
              "links": []
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 6,
            "w": 24,
            "x": 0,
            "y": 39
          },
          "hiddenSeries": false,
          "id": 149,
          "interval": "$inter",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": false,
          "linewidth": 1,
          "links": [],
          "maxPerRow": 3,
          "nullPointMode": "connected",
          "percentage": false,
          "pluginVersion": "7.1.0",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": "pod_name",
          "repeatDirection": "h",
          "scopedVars": {
            "pod_name": {
              "selected": false,
              "text": "internal-gateway-6-dw22d",
              "value": "internal-gateway-6-dw22d"
            }
          },
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": true,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_envoy_cluster_name",
              "expr": "increase(envoy_cluster_internal_upstream_rq_xx{container=\"$service_name\", namespace=\"$namespace\", pod=\"$pod_name\", envoy_response_code_class=\"4\"}[$inter]) OR on() vector(0)",
              "groupBy": [],
              "hide": false,
              "interval": "",
              "legendFormat": "{{envoy_cluster_name}}",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Number of internal upstream requests completed 4XX $pod_name",
          "tooltip": {
            "shared": true,
            "sort": 2,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": 0,
              "format": "none",
              "label": "",
              "logBase": 1,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": true,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$datasource",
          "description": "Number of internal upstream requests completed 5XX $pod_name",
          "fieldConfig": {
            "defaults": {
              "custom": {},
              "links": []
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 6,
            "w": 24,
            "x": 0,
            "y": 45
          },
          "hiddenSeries": false,
          "id": 150,
          "interval": "$inter",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": false,
          "linewidth": 1,
          "links": [],
          "maxPerRow": 3,
          "nullPointMode": "connected",
          "percentage": false,
          "pluginVersion": "7.1.0",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": "pod_name",
          "repeatDirection": "h",
          "scopedVars": {
            "pod_name": {
              "selected": false,
              "text": "internal-gateway-6-dw22d",
              "value": "internal-gateway-6-dw22d"
            }
          },
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": true,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_envoy_cluster_name",
              "expr": "increase(envoy_cluster_internal_upstream_rq_xx{container=\"$service_name\", namespace=\"$namespace\", pod=\"$pod_name\", envoy_response_code_class=\"5\"}[$inter]) OR on() vector(0)",
              "groupBy": [],
              "hide": false,
              "interval": "",
              "legendFormat": "{{envoy_cluster_name}}",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Number of internal upstream requests completed 5XX $pod_name",
          "tooltip": {
            "shared": true,
            "sort": 2,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": 0,
              "format": "none",
              "label": "",
              "logBase": 1,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        }
      ],
      "title": "Dynamic http statistics (internal requests)",
      "type": "row"
    },
    {
      "collapsed": true,
      "datasource": null,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 27
      },
      "id": 114,
      "panels": [
        {
          "aliasColors": {},
          "bars": true,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$datasource",
          "description": "Number of external upstream requests completed $pod_name",
          "fieldConfig": {
            "defaults": {
              "custom": {},
              "links": []
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 6,
            "w": 24,
            "x": 0,
            "y": 28
          },
          "hiddenSeries": false,
          "id": 119,
          "interval": "$inter",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": false,
          "linewidth": 1,
          "links": [],
          "maxPerRow": 3,
          "nullPointMode": "connected",
          "percentage": false,
          "pluginVersion": "7.1.0",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": "pod_name",
          "repeatDirection": "h",
          "scopedVars": {
            "pod_name": {
              "selected": false,
              "text": "internal-gateway-6-dw22d",
              "value": "internal-gateway-6-dw22d"
            }
          },
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": true,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_envoy_cluster_name",
              "expr": "increase(envoy_cluster_external_upstream_rq_completed{container=\"$service_name\", namespace=\"$namespace\", pod=\"$pod_name\"}[$inter]) OR on() vector(0)",
              "groupBy": [],
              "hide": false,
              "interval": "",
              "legendFormat": "{{envoy_cluster_name}}",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Number of external upstream requests completed $pod_name",
          "tooltip": {
            "shared": true,
            "sort": 2,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": 0,
              "format": "none",
              "label": "",
              "logBase": 1,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": true,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$datasource",
          "description": "Number of external upstream requests completed 2XX $pod_name",
          "fieldConfig": {
            "defaults": {
              "custom": {},
              "links": []
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 6,
            "w": 24,
            "x": 0,
            "y": 34
          },
          "hiddenSeries": false,
          "id": 125,
          "interval": "$inter",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": false,
          "linewidth": 1,
          "links": [],
          "maxPerRow": 3,
          "nullPointMode": "connected",
          "percentage": false,
          "pluginVersion": "7.1.0",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": "pod_name",
          "repeatDirection": "h",
          "scopedVars": {
            "pod_name": {
              "selected": false,
              "text": "internal-gateway-6-dw22d",
              "value": "internal-gateway-6-dw22d"
            }
          },
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": true,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_envoy_cluster_name",
              "expr": "increase(envoy_cluster_external_upstream_rq_xx{container=\"$service_name\", namespace=\"$namespace\", pod=\"$pod_name\", envoy_response_code_class=\"2\"}[$inter]) OR on() vector(0)",
              "groupBy": [],
              "hide": false,
              "interval": "",
              "legendFormat": "{{envoy_cluster_name}}",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Number of external upstream requests completed 2XX $pod_name",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": 0,
              "format": "none",
              "label": "",
              "logBase": 1,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": true,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$datasource",
          "description": "Number of external upstream requests completed 4XX $pod_name",
          "fieldConfig": {
            "defaults": {
              "custom": {},
              "links": []
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 6,
            "w": 24,
            "x": 0,
            "y": 40
          },
          "hiddenSeries": false,
          "id": 121,
          "interval": "$inter",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": false,
          "linewidth": 1,
          "links": [],
          "maxPerRow": 3,
          "nullPointMode": "connected",
          "percentage": false,
          "pluginVersion": "7.1.0",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": "pod_name",
          "repeatDirection": "h",
          "scopedVars": {
            "pod_name": {
              "selected": false,
              "text": "internal-gateway-6-dw22d",
              "value": "internal-gateway-6-dw22d"
            }
          },
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": true,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_envoy_cluster_name",
              "expr": "increase(envoy_cluster_external_upstream_rq_xx{container=\"$service_name\", namespace=\"$namespace\", pod=\"$pod_name\", envoy_response_code_class=\"4\"}[$inter]) OR on() vector(0)",
              "groupBy": [],
              "hide": false,
              "interval": "",
              "legendFormat": "{{envoy_cluster_name}}",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Number of external upstream requests completed 4XX $pod_name",
          "tooltip": {
            "shared": true,
            "sort": 2,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": 0,
              "format": "none",
              "label": "",
              "logBase": 1,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": true,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$datasource",
          "description": "Number of external upstream requests completed 5XX $pod_name",
          "fieldConfig": {
            "defaults": {
              "custom": {},
              "links": []
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 6,
            "w": 24,
            "x": 0,
            "y": 46
          },
          "hiddenSeries": false,
          "id": 122,
          "interval": "$inter",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": false,
          "linewidth": 1,
          "links": [],
          "maxPerRow": 3,
          "nullPointMode": "connected",
          "percentage": false,
          "pluginVersion": "7.1.0",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": "pod_name",
          "repeatDirection": "h",
          "scopedVars": {
            "pod_name": {
              "selected": false,
              "text": "internal-gateway-6-dw22d",
              "value": "internal-gateway-6-dw22d"
            }
          },
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": true,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_envoy_cluster_name",
              "expr": "increase(envoy_cluster_external_upstream_rq_xx{container=\"$service_name\", namespace=\"$namespace\", pod=\"$pod_name\", envoy_response_code_class=\"5\"}[$inter]) OR on() vector(0)",
              "groupBy": [],
              "hide": false,
              "interval": "",
              "legendFormat": "{{envoy_cluster_name}}",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Number of external upstream requests completed 5XX $pod_name",
          "tooltip": {
            "shared": true,
            "sort": 2,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": 0,
              "format": "none",
              "label": "",
              "logBase": 1,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        }
      ],
      "title": "Dynamic http statistics (external requests)",
      "type": "row"
    },
    {
      "collapsed": true,
      "datasource": null,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 28
      },
      "id": 89,
      "panels": [
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$datasource",
          "description": "Number of times the upstream connection backed up and paused reads from downstream $pod_name",
          "fieldConfig": {
            "defaults": {
              "custom": {},
              "links": []
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 6,
            "w": 24,
            "x": 0,
            "y": 29
          },
          "hiddenSeries": false,
          "id": 91,
          "interval": "$inter",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxPerRow": 3,
          "nullPointMode": "connected",
          "percentage": false,
          "pluginVersion": "7.1.0",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": "pod_name",
          "repeatDirection": "h",
          "scopedVars": {
            "pod_name": {
              "selected": false,
              "text": "internal-gateway-6-dw22d",
              "value": "internal-gateway-6-dw22d"
            }
          },
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": true,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_envoy_cluster_name",
              "expr": "increase(envoy_cluster_upstream_flow_control_backed_up_total{container=\"$service_name\", namespace=\"$namespace\", pod=\"$pod_name\"}[$inter]) OR on() vector(0)",
              "groupBy": [],
              "hide": false,
              "interval": "",
              "legendFormat": "{{envoy_cluster_name}}",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Number of times the upstream connection backed up and paused reads from downstream $pod_name",
          "tooltip": {
            "shared": true,
            "sort": 2,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": true,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$datasource",
          "description": "Number of times flow control paused reading from upstream $pod_name",
          "fieldConfig": {
            "defaults": {
              "custom": {},
              "links": []
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 6,
            "w": 24,
            "x": 0,
            "y": 35
          },
          "hiddenSeries": false,
          "id": 87,
          "interval": "$inter",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": false,
          "linewidth": 1,
          "links": [],
          "maxPerRow": 3,
          "nullPointMode": "connected",
          "percentage": false,
          "pluginVersion": "7.1.0",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": "pod_name",
          "repeatDirection": "h",
          "scopedVars": {
            "pod_name": {
              "selected": false,
              "text": "internal-gateway-6-dw22d",
              "value": "internal-gateway-6-dw22d"
            }
          },
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": true,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_envoy_cluster_name",
              "expr": "increase(envoy_cluster_upstream_flow_control_paused_reading_total{container=\"$service_name\", namespace=\"$namespace\", pod=\"$pod_name\"}[$inter]) OR on() vector(0)",
              "groupBy": [],
              "hide": false,
              "interval": "",
              "legendFormat": "{{envoy_cluster_name}}",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Number of times flow control paused reading from upstream $pod_name",
          "tooltip": {
            "shared": true,
            "sort": 2,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$datasource",
          "description": "Number of times flow control resumed reading from upstream $pod_name",
          "fieldConfig": {
            "defaults": {
              "custom": {},
              "links": []
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 6,
            "w": 24,
            "x": 0,
            "y": 41
          },
          "hiddenSeries": false,
          "id": 90,
          "interval": "$inter",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxPerRow": 3,
          "nullPointMode": "connected",
          "percentage": false,
          "pluginVersion": "7.1.0",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": "pod_name",
          "repeatDirection": "h",
          "scopedVars": {
            "pod_name": {
              "selected": false,
              "text": "internal-gateway-6-dw22d",
              "value": "internal-gateway-6-dw22d"
            }
          },
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": true,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_envoy_cluster_name",
              "expr": "increase(envoy_cluster_upstream_flow_control_resumed_reading_total{container=\"$service_name\", namespace=\"$namespace\", pod=\"$pod_name\"}[$inter]) OR on() vector(0)",
              "groupBy": [],
              "hide": false,
              "interval": "",
              "legendFormat": "{{envoy_cluster_name}}",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Number of times flow control resumed reading from upstream $pod_name",
          "tooltip": {
            "shared": true,
            "sort": 2,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$datasource",
          "description": "Number of times the upstream connection drained and resumed reads from downstream $pod_name",
          "fieldConfig": {
            "defaults": {
              "custom": {},
              "links": []
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 6,
            "w": 24,
            "x": 0,
            "y": 47
          },
          "hiddenSeries": false,
          "id": 92,
          "interval": "$inter",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxPerRow": 3,
          "nullPointMode": "connected",
          "percentage": false,
          "pluginVersion": "7.1.0",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": "pod_name",
          "repeatDirection": "h",
          "scopedVars": {
            "pod_name": {
              "selected": false,
              "text": "internal-gateway-6-dw22d",
              "value": "internal-gateway-6-dw22d"
            }
          },
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": true,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_envoy_cluster_name",
              "expr": "increase(envoy_cluster_upstream_flow_control_drained_total{container=\"$service_name\", namespace=\"$namespace\", pod=\"$pod_name\"}[$inter]) OR on() vector(0)",
              "groupBy": [],
              "hide": false,
              "interval": "",
              "legendFormat": "{{envoy_cluster_name}}",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Number of times the upstream connection drained and resumed reads from downstream $pod_name",
          "tooltip": {
            "shared": true,
            "sort": 2,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$datasource",
          "description": "Number of times the upstream connection drained and resumed reads from downstream $pod_name",
          "fieldConfig": {
            "defaults": {
              "custom": {},
              "links": []
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 6,
            "w": 24,
            "x": 0,
            "y": 53
          },
          "hiddenSeries": false,
          "id": 95,
          "interval": "$inter",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": true,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxPerRow": 3,
          "nullPointMode": "connected",
          "percentage": false,
          "pluginVersion": "7.1.0",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "repeat": "pod_name",
          "repeatDirection": "h",
          "scopedVars": {
            "pod_name": {
              "selected": false,
              "text": "internal-gateway-6-dw22d",
              "value": "internal-gateway-6-dw22d"
            }
          },
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": true,
          "steppedLine": false,
          "targets": [
            {
              "alias": "$tag_envoy_cluster_name",
              "expr": "increase(envoy_cluster_upstream_internal_redirect_failed_total{container=\"$service_name\", namespace=\"$namespace\", pod=\"$pod_name\"}[$inter]) OR on() vector(0)",
              "groupBy": [],
              "hide": false,
              "interval": "",
              "legendFormat": "{{envoy_cluster_name}}",
              "orderByTime": "ASC",
              "policy": "default",
              "query": "",
              "rawQuery": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [],
              "tags": []
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Number of times failed internal redirects resulted in redirects being passed downstream $pod_name",
          "tooltip": {
            "shared": true,
            "sort": 2,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        }
      ],
      "title": "Flow control",
      "type": "row"
    }
  ],
  "refresh": "30s",
  "schemaVersion": 26,
  "style": "dark",
  "tags": [
    "Envoy",
    "Prometheus"
  ],
  "templating": {
    "list": [
      {
        "current": {
          "selected": false,
          "text": "Platform Monitoring Prometheus",
          "value": "Platform Monitoring Prometheus"
        },
        "hide": 0,
        "includeAll": false,
        "label": "",
        "multi": false,
        "name": "datasource",
        "options": [],
        "query": "prometheus",
        "queryValue": "",
        "refresh": 1,
        "regex": "",
        "skipUrlSync": false,
        "type": "datasource"
      },
      {
        "allValue": ".*",
        "current": {
          "selected": false,
          "text": "cloud-core-dmos0218",
          "value": "cloud-core-dmos0218"
        },
        "datasource": "$datasource",
        "definition": "label_values(envoy_server_state{}, namespace)",
        "hide": 0,
        "includeAll": false,
        "label": "Namespace",
        "multi": false,
        "name": "namespace",
        "options": [],
        "query": "label_values(envoy_server_state{}, namespace)",
        "refresh": 1,
        "regex": "",
        "skipUrlSync": false,
        "sort": 0,
        "tagValuesQuery": "",
        "tags": [],
        "tagsQuery": "",
        "type": "query",
        "useTags": false
      },
      {
        "allValue": ".*",
        "current": {
          "selected": false,
          "text": "internal-gateway",
          "value": "internal-gateway"
        },
        "datasource": "$datasource",
        "definition": "label_values(envoy_server_state{namespace=\"$namespace\"},  container)",
        "hide": 0,
        "includeAll": false,
        "label": "Service name",
        "multi": false,
        "name": "service_name",
        "options": [],
        "query": "label_values(envoy_server_state{namespace=\"$namespace\"},  container)",
        "refresh": 2,
        "regex": "",
        "skipUrlSync": false,
        "sort": 0,
        "tagValuesQuery": "",
        "tags": [],
        "tagsQuery": "",
        "type": "query",
        "useTags": false
      },
      {
        "allValue": ".*",
        "current": {
          "selected": true,
          "text": "All",
          "value": [
            "$__all"
          ]
        },
        "datasource": "$datasource",
        "definition": "label_values(envoy_server_state{namespace=\"$namespace\", container=\"$service_name\"}, pod)",
        "hide": 0,
        "includeAll": true,
        "label": "Pod name",
        "multi": true,
        "name": "pod_name",
        "options": [],
        "query": "label_values(envoy_server_state{namespace=\"$namespace\", container=\"$service_name\"}, pod)",
        "refresh": 1,
        "regex": "",
        "skipUrlSync": false,
        "sort": 0,
        "tagValuesQuery": "",
        "tags": [],
        "tagsQuery": "",
        "type": "query",
        "useTags": false
      },
      {
        "auto": true,
        "auto_count": 20,
        "auto_min": "1m",
        "current": {
          "selected": false,
          "text": "1m",
          "value": "1m"
        },
        "hide": 0,
        "label": "Sampling",
        "name": "inter",
        "options": [
          {
            "selected": false,
            "text": "auto",
            "value": "$__auto_interval_inter"
          },
          {
            "selected": true,
            "text": "1m",
            "value": "1m"
          },
          {
            "selected": false,
            "text": "10m",
            "value": "10m"
          },
          {
            "selected": false,
            "text": "30m",
            "value": "30m"
          },
          {
            "selected": false,
            "text": "1h",
            "value": "1h"
          },
          {
            "selected": false,
            "text": "6h",
            "value": "6h"
          },
          {
            "selected": false,
            "text": "12h",
            "value": "12h"
          },
          {
            "selected": false,
            "text": "1d",
            "value": "1d"
          },
          {
            "selected": false,
            "text": "7d",
            "value": "7d"
          },
          {
            "selected": false,
            "text": "14d",
            "value": "14d"
          },
          {
            "selected": false,
            "text": "30d",
            "value": "30d"
          }
        ],
        "query": "1m,10m,30m,1h,6h,12h,1d,7d,14d,30d",
        "queryValue": "",
        "refresh": 2,
        "skipUrlSync": false,
        "type": "interval"
      }
    ]
  },
  "time": {
    "from": "now-15m",
    "to": "now"
  },
  "timepicker": {
    "refresh_intervals": [
      "10s",
      "30s",
      "1m",
      "5m",
      "15m",
      "30m",
      "1h",
      "2h",
      "1d"
    ],
    "time_options": [
      "5m",
      "15m",
      "1h",
      "6h",
      "12h",
      "24h",
      "2d",
      "7d",
      "30d"
    ]
  },
  "timezone": "",
  "title": "Envoy Table",
  "version": 2
}
